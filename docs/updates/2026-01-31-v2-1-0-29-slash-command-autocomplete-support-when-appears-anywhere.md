---
title: "スラッシュコマンド自動補完が入力のどこでも動作するように改善"
date: 2026-01-31
tags: ['改善', 'UX', 'コマンド']
---

## 原文（日本語に翻訳）

入力の先頭だけでなく、`/`が入力のどこに出現しても動作するスラッシュコマンド自動補完サポートを追加しました

## 原文（英語）

Added slash command autocomplete support when `/` appears anywhere in input, not just at the beginning

## 概要

Claude Code v2.1.0で導入された、スラッシュコマンド自動補完の改善機能です。従来は行の先頭に `/` を入力した場合のみ自動補完が動作していましたが、この改善により、文の途中やスペース後など、入力のどこに `/` を入力しても自動補完候補が表示されるようになりました。これにより、自然言語での質問の中にコマンドを挿入する際の使い勝手が大幅に向上します。

## 基本的な使い方

入力のどこでも `/` を入力すると、自動補完候補が表示されます。

```bash
claude

# 従来（行の先頭のみ）
> /commit          # ✅ 補完動作
> 先に /plan      # ❌ 補完動作しない

# v2.1.0以降（どこでも動作）
> /commit          # ✅ 補完動作
> 先に /plan      # ✅ 補完動作！
> これを /help で確認  # ✅ 補完動作！
```

## 実践例

### 自然言語での質問中にコマンドを挿入

質問文の途中でコマンドを入力できます。

```bash
# 従来: 質問とコマンドを分ける必要があった
> この機能について教えて
> /docs api

# v2.1.0: 1つの文で完結
> この機能について /docs api で確認できる？
#                    ↑ ここで自動補完が起動
```

### 複数コマンドの連続使用

1行に複数のコマンドを含める場合の使いやすさが向上します。

```bash
# 従来: 各コマンドを別々の行で入力
> /plan
> /commit
> /push

# v2.1.0: 1行で指示
> まず /plan で計画を立てて、それから /commit して /push してください
#      ↑       ↑                           ↑            ↑
#      すべての位置で自動補完が動作
```

### コマンドの修正時

文の途中でコマンドを修正する際にも補完が利用できます。

```bash
# 入力中に間違いに気づいた場合
> この変更を先に /comit して...
#                ↑ タイポに気づく

# カーソルを戻して修正
> この変更を先に /com<Tab>
#                ↑ 自動補完で /commit を選択
```

### スキル名の探索

どのスキルが利用可能か、文脈の中で確認できます。

```bash
# 利用可能なスキルを探す
> デプロイには /dep<Tab> を使えばいい？
#              ↑ /deploy-prod などの候補が表示

# コード生成スキルを探す
> これは /gen<Tab> で生成できる？
#        ↑ /generate-* 系のスキルが表示
```

## 注意点

- この機能は Claude Code v2.1.0（2026年1月7日リリース）で導入されました
- 自動補完のトリガー:
  - `/` を入力すると即座に補完候補が表示
  - 文字を続けて入力すると、候補が絞り込まれる
  - `Tab`キーで候補を選択
  - `Esc`キーで補完をキャンセル
- 補完候補の内容:
  - 組み込みコマンド（`/commit`, `/plan`, `/help` など）
  - インストール済みのスキル
  - カスタムスラッシュコマンド
- 自然言語処理への影響:
  - `/` を含む通常のテキスト（URLやパスなど）では補完が起動する場合がある
  - 不要な場合は `Esc` でキャンセル
- パフォーマンス:
  - 候補の読み込みは高速で、入力を妨げない
  - 大量のカスタムスキルがある場合でも快適に動作
- 補完の優先順位:
  1. 前方一致する組み込みコマンド
  2. 前方一致するスキル名
  3. 部分一致するすべてのコマンド
- 従来の動作との互換性:
  - 行の先頭での `/` 入力は従来通り動作
  - 既存のワークフローに影響なし
- エッジケース:
  - ファイルパス（`src/utils/helper.js`）では補完が起動しない
  - URL（`https://example.com`）では補完が起動しない
  - スラッシュ直後の空白がある場合（`/ command`）は補完が起動しない

## 関連情報

- [Slash commands - Claude Code Docs](https://code.claude.com/docs/en/slash-commands)
- [Interactive mode](https://code.claude.com/docs/en/interactive-mode)
- [Creating custom skills](https://code.claude.com/docs/en/skills)
