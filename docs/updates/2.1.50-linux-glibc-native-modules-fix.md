---
title: "Linux: glibc 2.30未満のシステム（RHEL 8等）でネイティブモジュールが読み込まれない問題を修正しました"
date: 2026-02-21
tags: [bug-fix, linux, compatibility, rhel]
---

## 原文（日本語に翻訳）

Linux: glibc 2.30より古いバージョンのシステム（例: RHEL 8）でネイティブモジュールが読み込まれない問題を修正しました。

## 原文（英語）

Linux: Fixed native modules not loading on systems with glibc older than 2.30 (e.g., RHEL 8)

## 概要

RHEL 8やCentOS 8など、glibc 2.30未満のシステムでClaude Codeのネイティブモジュールが読み込めない問題が修正されました。これにより、エンタープライズLinux環境でも正常にClaude Codeを利用できるようになります。glibc 2.30は2019年にリリースされたバージョンで、RHEL 8はデフォルトでglibc 2.28を使用しています。

## 基本的な使い方

この修正は自動的に適用されます。RHEL 8やその他の古いglibcを使用するLinuxディストリビューションで通常どおりClaude Codeをインストール・実行できます。

```bash
# glibcのバージョン確認
ldd --version
# ldd (GNU libc) 2.28  ← RHEL 8の場合

# Claude Codeのインストール（修正後は正常に動作）
npm install -g @anthropic-ai/claude-code

# または
npm install -g claude-code

# 起動確認
claude --version
```

## 実践例

### ユースケース1: RHEL 8環境でのインストール確認

RHEL 8（Enterprise Linux 8）でClaude Codeを使用する場合。

```bash
# RHEL 8のglibcバージョン確認
cat /etc/redhat-release
# Red Hat Enterprise Linux release 8.x

rpm -q glibc
# glibc-2.28-xxx.el8.x86_64

# v2.1.50以降はこの環境でも正常に動作
claude --version
# Claude Code x.x.x
```

### ユースケース2: CentOS Stream 8での使用

```bash
cat /etc/centos-release
# CentOS Stream release 8

# glibcバージョン確認
ldd --version | head -1
# ldd (GNU libc) 2.28

# Claude Codeを通常通り使用可能
claude
```

### ユースケース3: 以前のエラーからの回復

以前のバージョンでネイティブモジュールエラーが発生していた場合、v2.1.50へのアップデートで解決します。

```bash
# 以前発生していたエラー例:
# Error: /lib64/libc.so.6: version `GLIBC_2.30' not found
# Error loading native module: ...

# 解決策: Claude Codeをv2.1.50以上にアップデート
npm update -g @anthropic-ai/claude-code

# または最新版を明示的にインストール
npm install -g @anthropic-ai/claude-code@latest

# 再起動して確認
claude --version
```

## 注意点

- この修正はglibc 2.17以降のシステムを対象としています（RHEL 7はglibc 2.17を使用）。
- Node.js自体のglibc要件とは別の問題です。Claude Code固有のネイティブモジュールの互換性が修正されました。
- RHEL 7など、さらに古いglibcのシステムについては個別に確認が必要です。
- この修正によってパフォーマンスや動作に影響はありません。単純な互換性の修正です。

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [Red Hat Enterprise Linux 8 システム要件](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8)
