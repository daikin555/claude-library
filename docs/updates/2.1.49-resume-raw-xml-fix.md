---
title: "--resumeセッションピッカーでXMLタグが表示されていた問題が修正されました"
date: 2026-02-20
tags: [bug-fix, resume, session-picker, ui]
---

## 原文（日本語に翻訳）

`--resume` セッションピッカーが `/clear` などのコマンドで始まるセッションに対して生のXMLタグを表示していた問題を修正しました。セッションIDのフォールバックに正しく移行するようになりました。

## 原文（英語）

Fixed `--resume` session picker showing raw XML tags for sessions that start with commands like `/clear`. Now correctly falls through to the session ID fallback.

## 概要

`claude --resume` でセッション一覧を表示する際、`/clear` などのスラッシュコマンドで始まるセッションが生のXMLタグ（例: `<command>...</command>`）として表示されていた問題が修正されました。修正後は、そのようなセッションはセッションIDにフォールバックして正しく表示されます。セッション選択UIが正常に読めるようになります。

## 基本的な使い方

```bash
# セッションの再開（セッションピッカーを表示）
claude --resume

# 修正前: /clear で始まるセッションが壊れた表示
# 1. <command>clear</command>  [2026-02-19]
# 2. <command>clear</command>  [2026-02-18]

# 修正後: セッションIDが表示される
# 1. Session abc123de  [2026-02-19 09:30]
# 2. Session def456gh  [2026-02-18 14:20]
```

## 実践例

### ユースケース1: /clearで始まったセッションを再開

セッション開始時に `/clear` を実行して始まったセッションを再開する場合。

```bash
# 以前のセッション（/clearで始まっていた）を再開
claude --resume

# セッションリストが正しく表示される
# Session abc123de  [2026-02-19 09:30]  ← 以前は <command>clear</command> と表示
# Session def456gh  [2026-02-18 14:20]
# ...

# 矢印キーで選択してEnterで再開
```

### ユースケース2: セッション番号での直接再開

セッションIDを知っている場合の直接再開。

```bash
# セッションIDで直接再開
claude --resume abc123de

# または短縮形
claude -r abc123de
```

## 注意点

- この修正は `/clear` コマンドで始まるセッションだけでなく、XMLとして解釈されるコンテンツで始まるすべてのセッションに適用されます。
- セッションのタイトルが取得できない場合は、セッションIDがフォールバックとして表示されます。
- `claude --resume` コマンドは、以前のセッションの会話履歴を引き継いで作業を再開するのに便利です。

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
