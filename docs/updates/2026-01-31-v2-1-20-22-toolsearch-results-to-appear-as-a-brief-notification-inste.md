---
title: "`ToolSearch`çµæœã‚’ä¼šè©±å†…ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¡¨ç¤ºã‹ã‚‰ç°¡æ½”ãªé€šçŸ¥å½¢å¼ã«å¤‰æ›´"
date: 2026-01-27
tags: ['UIå¤‰æ›´', 'MCP', 'ãƒ„ãƒ¼ãƒ«æ¤œç´¢']
---

## åŸæ–‡ï¼ˆæ—¥æœ¬èªã«ç¿»è¨³ï¼‰

`ToolSearch`ã®çµæœã‚’ã€ä¼šè©±å†…ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¡¨ç¤ºã‹ã‚‰ç°¡æ½”ãªé€šçŸ¥å½¢å¼ã§è¡¨ç¤ºã™ã‚‹ã‚ˆã†å¤‰æ›´

## åŸæ–‡ï¼ˆè‹±èªï¼‰

Changed `ToolSearch` results to appear as a brief notification instead of inline in the conversation

## æ¦‚è¦

Claude Code v2.1.20ã§ã¯ã€MCPãƒ„ãƒ¼ãƒ«æ¤œç´¢ï¼ˆToolSearchï¼‰ã®çµæœè¡¨ç¤ºæ–¹æ³•ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚ä»¥å‰ã¯ã€ãƒ„ãƒ¼ãƒ«æ¤œç´¢çµæœãŒä¼šè©±ã®ä¸­ã«å®Œå…¨ãªå½¢ã§è¡¨ç¤ºã•ã‚Œã€ä¼šè©±å±¥æ­´ãŒé•·ããªã‚Šã™ãã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚ã“ã®å¤‰æ›´ã«ã‚ˆã‚Šã€æ¤œç´¢çµæœã¯ç°¡æ½”ãªé€šçŸ¥ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€ä¼šè©±ã®æµã‚Œã‚’å¦¨ã’ãšã€å¿…è¦ãªæƒ…å ±ã ã‘ã‚’åŠ¹ç‡çš„ã«ä¼ãˆã¾ã™ã€‚è©³ç´°ãŒå¿…è¦ãªå ´åˆã¯å±•é–‹ã—ã¦ç¢ºèªã§ãã¾ã™ã€‚

## åŸºæœ¬çš„ãªä½¿ã„æ–¹

ãƒ„ãƒ¼ãƒ«æ¤œç´¢ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€ç°¡æ½”ãªé€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```bash
> @database ã‚’ä½¿ã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

# å¤‰æ›´å‰ï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¡¨ç¤ºï¼‰ï¼š
Tool Search Results:
Found 3 matching tools:
  1. database.query
     Description: Execute SQL query on database
     Parameters: query (string), params (array)
     Returns: QueryResult

  2. database.getUser
     Description: Fetch user by ID
     Parameters: userId (number)
     Returns: User object

  3. database.listUsers
     Description: List all users with pagination
     Parameters: page (number), limit (number)
     Returns: User[]

Using tool: database.getUser

# ä¼šè©±ãŒé•·ããªã‚Šã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå¿…è¦

# å¤‰æ›´å¾Œï¼ˆç°¡æ½”ãªé€šçŸ¥ï¼‰ï¼š
ğŸ” Found 3 database tools â†’ Using database.getUser

# ã‚¹ãƒƒã‚­ãƒªã—ãŸè¡¨ç¤ºã€å¿…è¦ã«å¿œã˜ã¦å±•é–‹å¯èƒ½
```

## å®Ÿè·µä¾‹

### å¤šæ•°ã®MCPãƒ„ãƒ¼ãƒ«ãŒã‚ã‚‹ç’°å¢ƒ

å¤§è¦æ¨¡ãªMCPã‚µãƒ¼ãƒãƒ¼è¨­å®šæ™‚ï¼š

```bash
> ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§

# å¤‰æ›´å‰ã®å•é¡Œï¼š
Tool Search Results: (15 matching tools)
  1. filesystem.read
  2. filesystem.readFile
  3. filesystem.cat
  4. filesystem.readText
  5. filesystem.loadFile
  6. filesystem.getFileContents
  ... (9 more tools with full descriptions)

# ä¼šè©±ãŒæ¤œç´¢çµæœã§åŸ‹ã¾ã‚‹
# æœ¬æ¥ã®å¿œç­”ãŒåŸ‹ã‚‚ã‚Œã‚‹
# ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå¤§å¤‰

# å¤‰æ›´å¾Œï¼š
ğŸ” 15 filesystem tools found â†’ Using filesystem.read
  [Show all matches]

# æ”¹å–„ç‚¹ï¼š
# - 1è¡Œã®ç°¡æ½”ãªé€šçŸ¥
# - ä½¿ç”¨ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ãŒæ˜ç¢º
# - è©³ç´°ã¯å¿…è¦ã«å¿œã˜ã¦å±•é–‹
# - ä¼šè©±ã®æµã‚Œã‚’ç¶­æŒ
```

### é »ç¹ãªãƒ„ãƒ¼ãƒ«æ¤œç´¢

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªä½œæ¥­ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼š

```bash
# ã‚¿ã‚¹ã‚¯1
> @api ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæƒ…å ±ã‚’å–å¾—
ğŸ” 8 API tools â†’ Using api.getEndpoint

# ã‚¿ã‚¹ã‚¯2
> @database ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°
ğŸ” 12 database tools â†’ Using database.updateUser

# ã‚¿ã‚¹ã‚¯3
> @slack ãƒãƒ¼ãƒ ã«é€šçŸ¥ã‚’é€ä¿¡
ğŸ” 5 slack tools â†’ Using slack.postMessage

# å¤‰æ›´å‰ã®å•é¡Œï¼š
# - å„æ¤œç´¢ã§æ•°åè¡Œã®çµæœãŒè¡¨ç¤º
# - ä¼šè©±å±¥æ­´ãŒè†¨å¤§ã«
# - é‡è¦ãªå¿œç­”ã‚’è¦‹ã¤ã‘ã«ãã„

# å¤‰æ›´å¾Œã®åˆ©ç‚¹ï¼š
# - å„æ¤œç´¢ãŒ1è¡Œã®é€šçŸ¥
# - ä¼šè©±å±¥æ­´ãŒã‚¯ãƒªãƒ¼ãƒ³
# - é‡è¦ãªæƒ…å ±ãŒåŸ‹ã‚‚ã‚Œãªã„
# - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå®¹æ˜“
```

### æ›–æ˜§ãªãƒ„ãƒ¼ãƒ«åã§ã®æ¤œç´¢

è¤‡æ•°ã®å€™è£œãŒã‚ã‚‹å ´åˆï¼š

```bash
> ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã—ã¦

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒãƒ„ãƒ¼ãƒ«ã‚’æ¤œç´¢
ğŸ” Found 23 tools matching "user" â†’ Using user.getInfo
  ğŸ’¡ Other matches: user.fetch, user.load, user.query...
  [View all 23 matches]

# ã‚¯ãƒªãƒƒã‚¯ã—ã¦å±•é–‹ï¼š
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Tool Search: "user" (23 results)     â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ âœ“ user.getInfo (selected)            â•‘
â•‘   Get user information by ID         â•‘
â•‘                                      â•‘
â•‘   user.fetch                         â•‘
â•‘   Fetch user data from API           â•‘
â•‘                                      â•‘
â•‘   user.load                          â•‘
â•‘   Load user from database            â•‘
â•‘                                      â•‘
â•‘   ... (20 more)                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# å¤‰æ›´ã«ã‚ˆã‚Šï¼š
# - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç°¡æ½”è¡¨ç¤º
# - å¿…è¦ã«å¿œã˜ã¦è©³ç´°ç¢ºèª
# - æœ€é©ãªãƒ„ãƒ¼ãƒ«ãŒé¸ã°ã‚ŒãŸç†ç”±ã‚’ç†è§£å¯èƒ½
```

### é•·æ™‚é–“ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã®å±¥æ­´ç®¡ç†

æ•°æ™‚é–“ã«ã‚ãŸã‚‹ä½œæ¥­ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼š

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ã‹ã‚‰2æ™‚é–“å¾Œã€å±¥æ­´ã‚’ç¢ºèª

# å¤‰æ›´å‰ï¼š
# ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã¨...
# - ãƒ„ãƒ¼ãƒ«æ¤œç´¢çµæœãŒå¤§é‡ã«è¡¨ç¤º
# - å®Ÿéš›ã®ä½œæ¥­å†…å®¹ãŒåŸ‹ã‚‚ã‚Œã‚‹
# - ã©ã“ã§ä½•ã‚’ã—ãŸã‹è¿½è·¡å›°é›£

# å¤‰æ›´å¾Œï¼š
# ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã¨...
[10:00] > ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        ğŸ” 5 db tools â†’ database.init
        âœ“ Database initialized

[10:15] > APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆ
        ğŸ” 8 API tools â†’ api.createEndpoint
        âœ“ Endpoint created at /api/users

[10:30] > ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
        ğŸ” 12 test tools â†’ test.runAll
        âœ“ All tests passed

# æ”¹å–„ç‚¹ï¼š
# - ä½œæ¥­ã®æµã‚ŒãŒä¸€ç›®ç­ç„¶
# - å„ã‚¹ãƒ†ãƒƒãƒ—ã§ä½¿ç”¨ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ãŒæ˜ç¢º
# - è©³ç´°ã¯å„é€šçŸ¥ã‚’å±•é–‹ã—ã¦ç¢ºèªå¯èƒ½
```

### è‡ªå‹•ãƒ„ãƒ¼ãƒ«é¸æŠã®é€æ˜æ€§

ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ„ãƒ¼ãƒ«é¸æŠãƒ­ã‚¸ãƒƒã‚¯ã‚’ç†è§£ï¼š

```bash
> ã“ã®å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã—ã¦

ğŸ” Analyzing file processing tools...
   Considered: file.read (small files only)
   Considered: file.stream (memory efficient)
   âœ“ Selected: file.stream
   Reason: File size > 100MB, streaming recommended

# å¤‰æ›´ã«ã‚ˆã‚Šï¼š
# - ãªãœãã®ãƒ„ãƒ¼ãƒ«ãŒé¸ã°ã‚ŒãŸã‹æ˜ç¢º
# - ç°¡æ½”ã ãŒæœ‰ç”¨ãªæƒ…å ±
# - å­¦ç¿’ãƒ»ãƒ‡ãƒãƒƒã‚°ã«å½¹ç«‹ã¤
```

### ãƒãƒ¼ãƒ ç’°å¢ƒã§ã®ãƒ­ã‚°å…±æœ‰

ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒåƒšã¨å…±æœ‰ã™ã‚‹éš›ï¼š

```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ­ã‚°ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

# å¤‰æ›´å‰ï¼š
# - ãƒ„ãƒ¼ãƒ«æ¤œç´¢çµæœãŒãƒ­ã‚°ã®å¤§åŠã‚’å ã‚ã‚‹
# - å®Ÿéš›ã®ä½œæ¥­å†…å®¹ãŒè¦‹ãˆã«ãã„
# - å…±æœ‰ã™ã‚‹ã®ã«èºŠèº‡ã™ã‚‹é‡

# å¤‰æ›´å¾Œï¼š
# - ç°¡æ½”ã§èª­ã¿ã‚„ã™ã„ãƒ­ã‚°
# - ä½œæ¥­ã®æµã‚ŒãŒæ˜ç¢º
# - ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒç†è§£ã—ã‚„ã™ã„

Session Log:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[User] Setup development environment
[Agent] ğŸ” 10 tools â†’ setup.devEnv
[Agent] âœ“ Environment configured

[User] Deploy to staging
[Agent] ğŸ” 7 tools â†’ deploy.staging
[Agent] âœ“ Deployed successfully
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# ã‚¯ãƒªãƒ¼ãƒ³ã§å…±æœ‰ã—ã‚„ã™ã„
```

## æ³¨æ„ç‚¹

- ã“ã®å¤‰æ›´ã¯MCPãƒ„ãƒ¼ãƒ«æ¤œç´¢ï¼ˆToolSearchï¼‰ã®è¡¨ç¤ºã«ã®ã¿å½±éŸ¿ã—ã¾ã™
- é€šå¸¸ã®ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œçµæœã¯å¾“æ¥é€šã‚Šè¡¨ç¤ºã•ã‚Œã¾ã™
- è©³ç´°ãªæ¤œç´¢çµæœã¯é€šçŸ¥ã‚’å±•é–‹ã—ã¦ç¢ºèªã§ãã¾ã™
- ã“ã®å¤‰æ›´ã«ã‚ˆã‚Šã€é•·ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã‚‚ä¼šè©±å±¥æ­´ãŒã‚¯ãƒªãƒ¼ãƒ³ã«ä¿ãŸã‚Œã¾ã™
- ãƒ„ãƒ¼ãƒ«é¸æŠã®ãƒ­ã‚¸ãƒƒã‚¯ã‚„ç†ç”±ã¯å¼•ãç¶šãè¿½è·¡å¯èƒ½ã§ã™

## é–¢é€£æƒ…å ±

- [MCP (Model Context Protocol)](https://code.claude.com/docs/en/mcp/overview)
- [Tool Discovery](https://code.claude.com/docs/en/mcp/tool-discovery)
- [Agent Tool Selection](https://code.claude.com/docs/en/advanced/agent-behavior#tool-selection)
- [UI Best Practices](https://code.claude.com/docs/en/reference/ui-design)
- [Changelog v2.1.20](https://github.com/anthropics/claude-code/releases/tag/v2.1.20)
