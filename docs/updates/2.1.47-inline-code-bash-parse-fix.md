---
title: "Markdownのインラインコードスパンがbashコマンドとして誤解析される問題を修正"
date: 2026-02-19
tags: [bug-fix, markdown, bash, parsing]
---

## 原文（日本語に翻訳）

Markdownのインラインコードスパンがbashコマンドとして誤って解析されていた問題を修正 (anthropics/claude-code#25792)

## 原文（英語）
Fixed inline code spans in markdown being incorrectly parsed as bash commands (anthropics/claude-code#25792)

## 概要

CLAUDE.mdやその他のMarkdownファイル内で、バッククォートで囲まれたインラインコードスパン（例: `` `some code` ``）がbashコマンドとして誤解析される問題が修正されました。この問題により、Markdownドキュメント内のコード例が予期せずコマンドとして実行されたり、エラーが発生したりする場合がありました。

## 基本的な使い方

```markdown
<!-- 修正前: 以下のようなMarkdown内のインラインコードが問題を引き起こす場合があった -->
`rm -rf /tmp/cache` を実行してキャッシュを削除します。

<!-- 修正後: インラインコードスパンは単なるコード表示として正しく扱われる -->
`rm -rf /tmp/cache` を実行してキャッシュを削除します。
```

## 実践例

### CLAUDE.md内のコード例記述

CLAUDE.md内でコマンド例を安全に記述できるようになりました。

```markdown
# CLAUDE.md

## よく使うコマンド

以下のコマンドを参照してください：
- `npm install` で依存関係をインストール
- `npm run build` でビルドを実行
- `git status` で変更状況を確認

<!-- 修正後: これらのインラインコードは説明テキストとして扱われる -->
```

### プロジェクト説明ドキュメント内のコード参照

```markdown
# プロジェクト設定

設定ファイルは `~/.claude/settings.json` に保存されます。
環境変数 `ANTHROPIC_API_KEY` を設定してください。
`claude --version` でバージョンを確認できます。
```

### 複雑なコードスパンを含むMarkdown

```markdown
## 注意事項

`bash -c "echo hello"` のような複雑なコマンドも
インラインコードとして正しく表示されます。

パイプを含む例: `ls -la | grep ".md"` も問題ありません。
```

## 注意点

- この修正はv2.1.47以降で有効です
- コードブロック（トリプルバッククォート）ではなく、インラインコードスパン（シングルバッククォート）に関する修正です
- この問題はMarkdownパーサーの解析ロジックに関係するもので、CLAUDE.mdを含む全てのMarkdownファイルに影響していました
- 修正により、インラインコードスパン内のテキストはbashコマンドとして実行されることなく、テキストとして正しく処理されます

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [Issue #25792](https://github.com/anthropics/claude-code/issues/25792)
