---
title: "多数のスキルインストール時に組み込みスラッシュコマンドがオートコンプリートから消える問題を修正"
date: 2026-02-19
tags: [bug-fix, autocomplete, slash-commands, skills]
---

## 原文（日本語に翻訳）

多数のユーザースキルがインストールされている場合に、組み込みスラッシュコマンド（`/help`、`/model`、`/compact` 等）がオートコンプリートのドロップダウンに表示されなくなる問題を修正しました（anthropics/claude-code#22020）。

## 原文（英語）
Fixed built-in slash commands (`/help`, `/model`, `/compact`, etc.) being hidden from the autocomplete dropdown when many user skills are installed (anthropics/claude-code#22020)

## 概要

多数のカスタムスキルをインストールしている環境で、`/help` や `/model` などのClaude Code組み込みスラッシュコマンドがオートコンプリートのドロップダウンから見えなくなるバグが修正されました。スキルが多いとそれらがオートコンプリートの表示枠を占有してしまい、組み込みコマンドが隠れていました。修正後は組み込みコマンドが常に表示されるように優先順位が修正されています。

## 基本的な使い方

```bash
# 多数のスキルをインストールした環境でも
# 組み込みコマンドが `/` 入力後に表示される

# Claude Code を起動後、/ を入力
claude
> /

# 修正前: スキルが多いと /help, /model などが表示されない
# 修正後: 組み込みコマンドが常にオートコンプリートに表示される

# 主な組み込みコマンド
/help     # ヘルプを表示
/model    # 使用モデルを切り替え
/compact  # コンテキストを圧縮
/clear    # セッションをクリア
/rename   # セッション名を変更
/resume   # セッションを再開
```

## 実践例

### ユースケース1: 大量スキルインストール環境での組み込みコマンド使用

10個以上のスキルをインストールした環境での例。

```bash
# インストール済みスキルが多い場合
ls ~/.claude/skills/
# commit.md  review-pr.md  deploy.md  test.md  lint.md
# format.md  build.md  debug.md  docs.md  release.md
# ... (さらに多くのスキル)

# Claude Code を起動して / を入力
claude
> /

# 修正前のオートコンプリート表示:
# /commit
# /review-pr
# /deploy
# /test
# /lint
# ... (スキルのみが表示され、/help などが見えない)

# 修正後のオートコンプリート表示:
# /help     (組み込み)
# /model    (組み込み)
# /compact  (組み込み)
# /commit   (スキル)
# /review-pr (スキル)
# ...
```

### ユースケース2: コマンドの段階的フィルタリング

`/` の後に文字を入力してコマンドを絞り込む場合。

```bash
# /m と入力してモデル関連コマンドを検索
> /m
# オートコンプリート候補:
# /model     (組み込み) ← 修正前は表示されないことがあった
# /my-skill  (スキル)

# /h と入力してヘルプを検索
> /h
# オートコンプリート候補:
# /help  (組み込み) ← 修正前は表示されないことがあった
```

### ユースケース3: モデル切り替えワークフロー

頻繁にモデルを切り替えて作業する場合。

```bash
# コード作成時はOpusを使用
> /model
# モデル選択ダイアログが開く（スキルが多くても /model が使える）

# 素早いタスクはSonnetに切り替え
> /mod  # オートコンプリートで /model が候補に出る
```

## 注意点

- この修正は組み込みコマンドの「表示」の問題であり、コマンド自体は元々動作していました（直接入力すれば使用可能でした）
- スキルの数が多い環境ほどこのバグの影響を受けやすかったため、スキルを多数インストールしているユーザーはアップデートを推奨します
- 組み込みコマンドとスキルコマンドの表示順序は、バージョンによって変更される可能性があります
- カスタムスキルは引き続き通常通り動作します

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [CHANGELOG.md](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [GitHub Issue #22020](https://github.com/anthropics/claude-code/issues/22020)
- [Claude Code スキル（カスタムコマンド）ガイド](https://docs.anthropic.com/ja/docs/claude-code/slash-commands)
