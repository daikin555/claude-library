---
title: "トランスポート再接続時のWebSocketリスナーリーク修正"
date: 2026-02-28
tags: [bug-fix, websocket, memory, network, stability]
---

# トランスポート再接続時のWebSocketリスナーリーク修正

## 原文（日本語に翻訳）

トランスポート再接続時のWebSocketリスナーリークを修正しました。

## 原文（英語）

Fixed WebSocket listener leak on transport reconnect

## 概要

Claude Code v2.1.63で、WebSocketトランスポートが再接続する際にイベントリスナーが適切に解放されない問題が修正されました。ネットワークの切断・再接続が繰り返される環境では、リスナーが蓄積してメモリ使用量が増加していました。

## 基本的な使い方

この修正はバックグラウンドで自動的に適用されます。ユーザー側での操作は不要です。

## 実践例

### 影響を受けるシナリオ

- ネットワークが不安定な環境（Wi-Fi、VPN経由）でClaude Codeを使用する場合
- スリープ・復帰を繰り返すノートPCでの長時間セッション
- IDE統合のWebSocket接続が頻繁に再接続する環境

### 修正後の改善

- 再接続後もメモリ使用量が安定
- ネットワーク不安定な環境での長時間セッションの信頼性が向上

## 注意点

- v2.1.63にアップデートすることで自動的に修正が適用されます
- ネットワーク環境が不安定な場所や、長時間使用するユーザーに特に効果があります

## 関連情報

- [Claude Code ネットワーク設定](https://docs.anthropic.com/ja/docs/claude-code/settings)
