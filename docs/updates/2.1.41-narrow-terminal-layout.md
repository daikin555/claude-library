---
title: "狭いターミナルでのプロンプトフッターレイアウトの改善"
date: 2026-02-13
tags: [improvement, ui, terminal, layout]
---

## 原文（日本語）
狭いターミナル環境でのプロンプトフッターのレイアウトを改善しました。

## 原文（英語）
Improved narrow terminal layout for prompt footer

## 概要
Claude Code v2.1.41では、幅の狭いターミナルウィンドウでプロンプトフッター（入力欄下部の情報表示）のレイアウトが改善されました。これにより、小さな画面やターミナル分割時でも、重要な情報が適切に表示され、使いやすさが向上しました。

## 問題の背景

### 狭いターミナルでの表示問題
従来、ターミナルの幅が狭い場合（80カラム未満など）、プロンプトフッターの情報が重なったり、途切れたりして読みにくい状態でした。

**修正前:**
```text
# 幅60カラムのターミナル
Model: claude-opus-4-6 | Mode: fast | Tokens: 12...
[情報が途切れる、または重なる]
```

**修正後:**
```text
# 幅60カラムのターミナル
Model: opus-4-6
Mode: fast
Tokens: 12,345
[各情報が適切に改行され、読みやすく表示]
```

## 基本的な使い方

### 狭いターミナルでの利用
ターミナルの幅を狭くしても、情報が適切に表示されます。

```bash
# ターミナルを80カラム幅に設定
> tput cols 80

# Claude Codeを起動
claude

# フッター情報が適切に表示される
```

## 実践例

### tmuxでの画面分割
tmuxでターミナルを分割して使用する場合、各ペインで快適に作業できます。

```bash
# tmuxで画面を縦に分割（各ペインの幅が狭くなる）
tmux split-window -h

# 左ペイン: コード編集（vim/nvim）
# 右ペイン: Claude Code（幅が狭くても読みやすい）

claude
> "このコードをレビューしてください"

# フッター情報が適切にレイアウトされる
Model: opus-4-6
Tokens: 8,234
```

### 小型ディスプレイでの作業
ノートPCや小型モニターで作業する場合です。

```bash
# 13インチノートPCのターミナル（80カラム程度）
claude

# モデル情報、トークン数、モード情報が見やすく表示される
Model: sonnet-4-5
Mode: normal
Tokens: 15,432 / 200,000
```

### 縦長ターミナルの活用
ターミナルを縦に配置する場合、横幅が狭くなりますが、レイアウトが最適化されます。

```bash
# ディスプレイを縦向きに設定
# ターミナル幅: 60カラム

claude
> "長いコードを生成してください"

# フッター情報が縦に積み重なって表示され、
# 横スクロールが不要
```

### SSHリモート接続
リモートサーバーにSSH接続し、幅の限られたターミナルで作業する場合です。

```bash
# SSH接続先のターミナル（幅が制限される）
ssh user@remote-server

# Claude Code起動
claude

# 限られた幅でも情報が適切に表示される
Model: haiku-4-5
Mode: fast
Session: abc123
Tokens: 5,678
```

### VSCode統合ターミナル
VSCodeの統合ターミナルを分割して使用する場合です。

```bash
# VSCode統合ターミナルを分割
# Ctrl+Shift+5 (垂直分割)

# 各ターミナルペインの幅が狭くなる
# 左: サーバー起動、ログ監視
# 右: Claude Code

claude
> "APIエンドポイントを実装してください"

# 狭いペインでもフッターが読みやすい
```

### モバイルターミナルアプリ
スマートフォンやタブレットのターミナルアプリで使用する場合です。

```bash
# iSH（iOS）やTermux（Android）などのモバイルターミナル
# 画面幅: 40〜60カラム程度

claude

# モバイル画面でも見やすいレイアウト
Model: haiku
Tokens: 2,345
```

## この改善の利点

### 読みやすさの向上
- 情報が重ならず、明確に表示される
- 横スクロールが不要
- 小さな画面でも快適に使用可能

### 柔軟な作業環境
- ターミナル分割時も使いやすい
- さまざまな画面サイズに対応
- レスポンシブなレイアウト

### 生産性の向上
- 画面の狭い環境でも作業効率が落ちない
- マルチタスク時の可視性向上
- リモート作業環境での使いやすさ

## レイアウトの動作

### 広いターミナル（120カラム以上）
```text
Model: claude-opus-4-6 | Mode: fast | Tokens: 12,345 / 200,000 | Session: abc123
```

### 中程度のターミナル（80〜119カラム）
```text
Model: claude-opus-4-6 | Mode: fast
Tokens: 12,345 / 200,000 | Session: abc123
```

### 狭いターミナル（79カラム以下）
```text
Model: opus-4-6
Mode: fast
Tokens: 12,345 / 200,000
Session: abc123
```

## 注意点
- レイアウトの変更は自動的に適用されます
- ターミナルのサイズ変更時、リアルタイムでレイアウトが調整されます
- 非常に狭いターミナル（40カラム未満）では、一部の情報が省略される場合があります
- カラー表示に対応していないターミナルでも、レイアウトは正しく機能します

## ターミナル幅の確認方法

### 現在の幅を確認
```bash
# ターミナルの列数を確認
tput cols

# または
echo $COLUMNS
```

### 推奨ターミナル幅
- **最小**: 60カラム（基本的な使用）
- **推奨**: 80カラム以上（快適な使用）
- **最適**: 120カラム以上（すべての情報を一行表示）

## 関連情報
- [Claude Code - How it works](https://code.claude.com/docs/en/how-claude-code-works)
- [Claude Code overview - Claude Code Docs](https://code.claude.com/docs/en/overview)
