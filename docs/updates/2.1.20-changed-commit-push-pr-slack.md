---
title: "/commit-push-pr スキルのSlack自動投稿機能"
date: 2026-01-27
tags: [change, skill, integration, slack, pr]
---

## 原文（日本語訳）
`/commit-push-pr` スキルを変更し、MCP ツール経由で Slack チャンネルが設定されている場合、PR URL を自動的に投稿するようにしました

## 原文（英語）
Changed the `/commit-push-pr` skill to automatically post PR URLs to Slack channels when configured via MCP tools

## 概要
プルリクエストを作成する際に、設定済みの Slack チャンネルへ PR URL を自動的に通知できるようになりました。MCP の Slack ツールと連携することで、チーム通知の自動化が実現します。

## 基本的な使い方

### 前提条件

Slack MCP サーバーを設定します：

```bash
claude mcp add
# Slack MCP サーバーを選択・設定
```

## 実践例

### 基本的な PR 作成と Slack 通知

```bash
claude
> /commit-push-pr "新機能: ユーザー認証を実装"
```

PR が作成され、自動的に Slack に通知されます：

```
✓ Committed changes
✓ Pushed to origin/feature-auth
✓ Created PR #123
ℹ Posted to #dev-team: https://github.com/org/repo/pull/123
```

### チーム開発での活用

```bash
claude
> /commit-push-pr "修正: パフォーマンス問題を解決"
```

設定されたチャンネル（例: #code-review）に自動投稿：

```
Slack notification sent to #code-review:
🔔 New PR ready for review
修正: パフォーマンス問題を解決
https://github.com/org/repo/pull/124
```

### 複数チャンネルへの通知

MCP 設定で複数のチャンネルを指定できます：

```json
{
  "mcpServers": {
    "slack": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-slack"],
      "env": {
        "SLACK_TEAM_ID": "T1234567",
        "SLACK_BOT_TOKEN": "xoxb-...",
        "DEFAULT_CHANNELS": "#dev-team,#code-review"
      }
    }
  }
}
```

### 条件付き通知

特定のブランチやプロジェクトの PR のみを通知するよう設定することも可能です。

## 注意点

- **MCP 設定必須**: Slack への投稿には Slack MCP サーバーの設定が必要です
- **認証**: Slack ボットトークンの設定が必要です
- **プライバシー**: プライベートリポジトリの PR を公開チャンネルに投稿しないよう注意してください
- **通知の重複**: 他の GitHub 連携と重複通知にならないか確認してください
- **権限**: Slack ボットに適切なチャンネル投稿権限が必要です

## 設定例

### Slack MCP サーバーの完全な設定

```json
{
  "mcpServers": {
    "slack": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-slack"],
      "env": {
        "SLACK_TEAM_ID": "T1234567",
        "SLACK_BOT_TOKEN": "xoxb-your-token",
        "DEFAULT_CHANNELS": "#code-review"
      }
    }
  }
}
```

### プロジェクト固有の設定

`.claude/settings.json` に追加：

```json
{
  "env": {
    "PR_NOTIFICATION_CHANNEL": "#project-alpha-prs"
  }
}
```

## 関連情報

- [MCP サーバー設定](https://code.claude.com/docs/en/mcp)
- [Slack MCP サーバー](https://github.com/modelcontextprotocol/servers/tree/main/slack)
- [スキルのカスタマイズ](https://code.claude.com/docs/en/skills)
