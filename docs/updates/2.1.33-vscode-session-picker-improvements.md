---
title: "VSCodeセッションピッカーの改善：ブランチ名とメッセージ数の表示"
date: 2026-02-06
tags: [feature, vscode, ui, git, session-picker]
---

## 原文（日本語）
VSCode: セッションピッカーにgitブランチとメッセージ数が追加され、ブランチ名での検索にも対応しました。

## 原文（英語）
VSCode: Added git branch and message count to the session picker, with support for searching by branch name

## 概要
Visual Studio Code拡張機能のセッションピッカーが改善され、各セッションにgitブランチ名とメッセージ数が表示されるようになりました。また、ブランチ名で検索できる機能も追加され、特定のブランチに関連するセッションを素早く見つけることができます。

## 基本的な使い方

VSCodeのセッションピッカーを開くと、各セッションに以下の情報が表示されます。

```
セッション名
├─ gitブランチ: feature/user-authentication
└─ メッセージ数: 15
```

ブランチ名で検索するには、セッションピッカーの検索ボックスにブランチ名を入力します。

```
検索: feature/user-auth
→ feature/user-authentication ブランチのセッションが表示される
```

## 実践例

### 機能ブランチごとのセッション管理

複数の機能を並行開発している場合、ブランチ名でセッションを整理・検索：

**シナリオ:** 3つの機能（認証、決済、通知）を並行開発しており、それぞれ専用のブランチとセッションがある。

```
セッションピッカーの表示:

[1] ユーザー認証機能の実装
    ├─ feature/user-authentication
    └─ 23 messages

[2] 決済システムの統合
    ├─ feature/payment-integration
    └─ 15 messages

[3] プッシュ通知機能
    ├─ feature/push-notifications
    └─ 8 messages

検索: "feature/user-auth"
→ [1] ユーザー認証機能の実装 が表示される
```

### バグ修正セッションの追跡

バグ修正ブランチに関連するセッションを素早く見つける：

**シナリオ:** 本番環境で複数のバグが発見され、それぞれ修正ブランチとセッションが作成されている。

```
検索: "bugfix/login"
→ バグ修正: ログインエラー
   ├─ bugfix/login-error-handling
   └─ 12 messages

検索: "hotfix/"
→ 緊急修正: 決済失敗
   ├─ hotfix/payment-failure
   └─ 7 messages
```

### メッセージ数による作業進捗の把握

メッセージ数を見て、セッションでどれだけ作業が進んでいるかを把握：

**シナリオ:** 長期プロジェクトで、各セッションの活動量を確認したい。

```
[1] APIリファクタリング
    ├─ refactor/api-structure
    └─ 45 messages  ← 活発に作業中

[2] ドキュメント更新
    ├─ docs/api-documentation
    └─ 8 messages   ← まだ作業が浅い

[3] パフォーマンス最適化
    ├─ optimize/database-queries
    └─ 32 messages  ← かなり進行中
```

### チームメンバーとのブランチ共有

チームメンバーが作成したブランチに関連するセッションを検索：

**シナリオ:** チームメンバーが `feature/dashboard-redesign` ブランチで作業しており、その内容をレビューしたい。

```
検索: "feature/dashboard"
→ ダッシュボードのリデザイン
   ├─ feature/dashboard-redesign
   └─ 28 messages

セッションを開いて、過去の会話や実装内容を確認
```

### リリースブランチのセッション管理

リリース準備中の複数のブランチを効率的に管理：

**シナリオ:** リリース1.5.0に向けて、複数のreleasブランチが存在する。

```
検索: "release/1.5"
→ [1] リリース1.5.0準備
      ├─ release/1.5.0
      └─ 19 messages

   [2] リリース1.5.0バグ修正
      ├─ release/1.5.0-hotfix
      └─ 11 messages
```

### 実験的なブランチの追跡

実験的な機能やプロトタイプのブランチを管理：

**シナリオ:** 複数の実験的アプローチを試しており、それぞれ独立したブランチとセッションがある。

```
検索: "experiment/"
→ [1] 実験: WebSocketリアルタイム通信
      ├─ experiment/websocket-realtime
      └─ 14 messages

   [2] 実験: GraphQL統合
      ├─ experiment/graphql-integration
      └─ 9 messages

   [3] 実験: Redis キャッシュ
      ├─ experiment/redis-caching
      └─ 6 messages
```

### 古いセッションのクリーンアップ

メッセージ数やブランチ名を見て、不要になったセッションを特定：

**シナリオ:** プロジェクトが進行し、古いブランチのセッションを削除したい。

```
[古いセッション]
├─ 初期プロトタイプ
│  ├─ prototype/initial-design (削除済みブランチ)
│  └─ 42 messages → もう不要なのでアーカイブ

[アクティブなセッション]
├─ 本番環境対応
   ├─ feature/production-ready
   └─ 18 messages → 継続中
```

## 注意点

- gitブランチ情報は、セッションが作成されたディレクトリがgitリポジトリである場合のみ表示されます
- ブランチを切り替えた後も、セッションは元のブランチ名を記憶しています
- メッセージ数には、ユーザーとClaude Codeの両方のメッセージが含まれます
- ブランチ名での検索は、部分一致検索に対応しています（例: "feature/" で全てのfeatureブランチを検索）
- セッション作成後にブランチ名を変更しても、セッションピッカーには古いブランチ名が表示される場合があります
- ブランチが削除された後も、セッションは保持されます（ブランチ名は表示されますが、ブランチ自体は存在しません）
- リモートセッション（claude.aiから）の場合、ブランチ情報が正しく同期されない場合があります

## 関連情報

- [Claude Code VSCode拡張機能](https://marketplace.visualstudio.com/items?itemName=Anthropic.claude-code)
- [VSCode拡張機能の使い方](https://docs.anthropic.com/claude/docs/vscode-extension)
- [セッション管理ガイド](https://docs.anthropic.com/claude/docs/session-management)
- [Gitワークフローとの統合](https://docs.anthropic.com/claude/docs/git-workflow)
