---
title: "Ctrl+Fでバックグラウンドエージェントを終了できるようになりました"
date: 2026-02-20
tags: [new-feature, keyboard-shortcut, background-agents, ux]
---

## 原文（日本語に翻訳）

バックグラウンドエージェントを終了するCtrl+Fキーバインドを追加しました（2回押しで確認）。

## 原文（英語）

Added Ctrl+F keybinding to kill background agents (two-press confirmation)

## 概要

バックグラウンドで実行中のエージェントを素早く終了させるためのキーボードショートカット `Ctrl+F` が追加されました。誤操作を防ぐため、3秒以内に2回押すことで確認が取れた後にエージェントが終了します。また関連する修正として、バックグラウンドエージェント実行中にメインスレッドがアイドル状態のときに `Ctrl+C` や `ESC` が無視されていた問題も修正され、3秒以内に2回押すことですべてのバックグラウンドエージェントを終了できるようになりました。

## 基本的な使い方

```
バックグラウンドエージェントが実行中のとき:
  Ctrl+F        → 「バックグラウンドエージェントを終了しますか？もう一度押してください」と表示
  Ctrl+F（再度） → 3秒以内に押すと、すべてのバックグラウンドエージェントを終了

または:
  Ctrl+C / ESC        → 同様の確認プロンプト
  Ctrl+C / ESC（再度） → 3秒以内に押すと終了
```

## 実践例

### ユースケース1: 長時間実行中のエージェントをキャンセル

時間のかかるタスクを実行しているバックグラウンドエージェントを中断する場合。

```bash
# バックグラウンドエージェントがタスクを実行中
# 例: 大規模なコードベースの解析

# キャンセルしたい場合
[Ctrl+F を押す]
# → "バックグラウンドエージェントを終了しますか？もう一度Ctrl+Fを押してください（3秒以内）"

[Ctrl+F をもう一度押す]
# → すべてのバックグラウンドエージェントが終了
```

### ユースケース2: 意図しないエージェントの起動をキャンセル

誤ってバックグラウンドエージェントを起動してしまった場合。

```bash
# 誤ってバックグラウンドタスクが開始された
# 素早くCtrl+Fを2回押してキャンセル
[Ctrl+F] → [Ctrl+F]（3秒以内）
# → エージェントが終了し、通常の状態に戻る
```

### ユースケース3: 複数のバックグラウンドエージェントをまとめて終了

複数のバックグラウンドエージェントを一度に終了したい場合。

```bash
# 複数のエージェントがバックグラウンドで実行中
# Ctrl+F を2回で全エージェントを終了
[Ctrl+F] → [Ctrl+F]（3秒以内）
# → すべてのバックグラウンドエージェントが一括終了
```

## 注意点

- `Ctrl+F` は2回押しで確認が必要です。誤操作でエージェントが終了しないよう保護されています。
- 2回の押下は3秒以内に行う必要があります。3秒を超えるとキャンセルとみなされます。
- `Ctrl+C` と `ESC` も同様の動作（2回押しで確認）でバックグラウンドエージェントを終了できます。
- この操作はメインスレッドがアイドル状態のとき（入力待ち状態）に機能します。
- エージェントが終了されると、進行中の作業は失われます。重要な作業がある場合は注意してください。

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [background: trueでバックグラウンド実行](./2.1.49-background-agent-definition.md)
