---
title: "OSC 8ハイパーリンクが複数行にわたる場合に最初の行でしかクリックできない問題を修正"
date: 2026-02-19
tags: [bug-fix, terminal, osc8, hyperlinks]
---

## 原文（日本語に翻訳）

リンクテキストが複数のターミナル行にわたって折り返される場合に、OSC 8ハイパーリンクが最初の行でしかクリックできなかった問題を修正

## 原文（英語）
Fixed OSC 8 hyperlinks only being clickable on the first line when link text wraps across multiple terminal lines.

## 概要

OSC 8は端末エミュレーターでハイパーリンクを表示するための標準的なエスケープシーケンスです。リンクテキストが長くてターミナルの幅を超え、複数行に折り返された場合、最初の行部分しかクリック可能にならないという問題が修正されました。この修正により、折り返しされたリンクテキストのどの行をクリックしても、正しくリンク先に遷移できるようになります。

## 基本的な使い方

```bash
# OSC 8ハイパーリンクをサポートするターミナルエミュレーターを使用する
# (例: iTerm2, kitty, Windows Terminal, GNOME Terminal など)

# Claude Codeが長いURLや長いファイルパスをリンクとして表示する場合
# リンクテキストが複数行にわたっても全体がクリック可能になった
claude
```

## 実践例

### 長いURLが折り返される場合

```
# ターミナル幅が80文字の場合、以下のような長いURLが折り返される
# 修正前: 最初の行部分のみクリック可能
# 修正後: すべての行がクリック可能

https://docs.anthropic.com/ja/docs/claude-code/overview#getting-started-with
-claude-code-in-your-development-environment
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  ← この行もクリック可能に
```

### ファイルパスの折り返し

```bash
# Claude Codeがファイルへのリンクを表示する場合
# 例: 長いパスのファイルを開く提案

# 修正後: 折り返された2行目もクリック可能
/Users/username/very-long-project-path/src/components/very-long-component-na
me/index.tsx
^^^^^^^^^^^  ← 2行目もクリック可能に
```

### ターミナルエミュレーターでの確認

```bash
# OSC 8サポートを確認するターミナル
# サポートするターミナルの例:
# - iTerm2 (macOS)
# - kitty
# - Windows Terminal
# - GNOME Terminal 3.36+
# - Alacritty (一部バージョン)

# Claude Codeを実行して長いリンクテキストが表示された場合
# 折り返し部分もクリックできることを確認する
claude
```

## 注意点

- この修正はv2.1.47以降で有効です
- OSC 8ハイパーリンクはすべてのターミナルエミュレーターでサポートされているわけではありません
- サポートされないターミナルでは、リンクはプレーンテキストとして表示されます
- この修正はリンクテキストが折り返された場合のみ影響します（1行に収まる場合は変更なし）
- ターミナルの幅を広くすることで折り返しを防ぐことができます

## 関連情報

- [OSC 8 ハイパーリンク仕様](https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda)
- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
