---
title: "プラグインエージェントスキルの完全修飾名参照修正"
date: 2026-02-19
tags: [bug-fix, plugins, agents, skills]
---

## 原文（日本語に翻訳）

プラグインエージェントのスキルを完全修飾されたプラグイン名ではなく、単純な名前で参照した場合に、サイレントに読み込みが失敗していた問題を修正しました（anthropics/claude-code#25834）。

## 原文（英語）
Fixed plugin agent skills silently failing to load when referenced by bare name instead of fully-qualified plugin name (anthropics/claude-code#25834)

## 概要

プラグインとして提供されるエージェントスキルを参照する際、完全修飾名（`plugin-name:skill-name`形式）ではなく単純なスキル名（`skill-name`のみ）で呼び出した場合に、エラーメッセージなしにサイレントで読み込みが失敗していました。この修正により、適切なエラーメッセージが表示されるか、または単純名でも正しく解決されるようになりました。

## 基本的な使い方

```bash
# プラグインスキルの正しい参照方法

# 完全修飾名での参照（推奨）
/plugin-name:skill-name

# 例: ms-office-suiteプラグインのpdfスキル
/ms-office-suite:pdf

# 修正前: 単純名での参照がサイレントに失敗
# /pdf  ← 失敗するがエラーメッセージなし

# 修正後: 適切なフィードバックが提供される
```

## 実践例

### ユースケース1: プラグインスキルの正しい呼び出し方

```bash
# プラグインがインストールされている場合
# 完全修飾名での呼び出し（バージョン2.1.47以降も推奨）

claude
> /my-plugin:analyze このコードを分析してください

# 修正前の問題: 以下のような呼び出しがサイレント失敗していた
# /analyze このコードを分析してください
# ← スキルが実行されずにエラーも表示されなかった

# 修正後: 適切なエラーまたは正常な動作
```

### ユースケース2: CLAUDE.mdでのスキル設定

```markdown
<!-- .claude/CLAUDE.md でのスキル参照設定 -->
# プロジェクト設定

## 利用可能なスキル

このプロジェクトでは以下のスキルを使用してください:
- コードレビュー: `/code-review-plugin:review`
- ドキュメント生成: `/docs-plugin:generate`
- テスト生成: `/test-plugin:create`

<!-- 完全修飾名を使用することで確実に読み込まれる -->
```

### ユースケース3: プラグイン開発者のデバッグ

```bash
# プラグイン開発時のスキル読み込み確認
claude --debug

# 修正前: スキルが読み込まれなくてもデバッグログに情報がなかった
# 修正後: スキルの読み込み状態がデバッグログに記録される

# プラグインのスキル一覧確認
claude
> 利用可能なスキルを一覧表示してください
```

## 注意点

- プラグインスキルを参照する際は常に完全修飾名（`plugin-name:skill-name`）を使用することを推奨します
- 単純名（`skill-name`のみ）での参照は曖昧さを生む可能性があります
- 「サイレント失敗」とは、エラーメッセージなしにスキルが実行されない状態を指します
- GitHub Issue #25834 で報告された問題の修正です
- バージョン2.1.47以降で修正が適用されます

## 関連情報

- [Claude Code プラグイン・スキル設定](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [GitHub Issue #25834](https://github.com/anthropics/claude-code/issues/25834)
