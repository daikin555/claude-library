---
title: "自動承認中のインタラクティブパーミッションハンドラーのリスナーリーク修正"
date: 2026-02-28
tags: [bug-fix, memory, permissions, stability]
---

# 自動承認中のインタラクティブパーミッションハンドラーのリスナーリーク修正

## 原文（日本語に翻訳）

自動承認中のインタラクティブパーミッションハンドラーにおけるリスナーリークを修正しました。

## 原文（英語）

Fixed listener leak in interactive permission handler during auto-approvals

## 概要

Claude Code v2.1.63で、自動承認モードで動作する際のインタラクティブパーミッションハンドラーにおけるリスナーリークが修正されました。ツール実行のパーミッションが自動承認される際に、イベントリスナーが適切に解放されない問題があり、長時間セッションでのメモリ使用量増加の原因となっていました。

## 基本的な使い方

この修正はバックグラウンドで自動的に適用されます。ユーザー側での操作は不要です。

## 実践例

### 影響を受けるシナリオ

- `--dangerously-skip-permissions` フラグや自動承認設定でClaude Codeを実行している場合
- 多数のツール呼び出しが自動承認される長時間セッション

### 修正後の改善

- 自動承認の多い長時間セッションでのメモリ消費量が安定

## 注意点

- v2.1.63にアップデートすることで自動的に修正が適用されます
- 自動承認設定で多くのツール操作を行うCI/CD環境や自動化ワークフローで特に効果があります

## 関連情報

- [Claude Code パーミッション設定](https://docs.anthropic.com/ja/docs/claude-code/permissions)
