---
title: "無効な管理設定のエラー表示を追加"
date: 2026-02-06
tags: [managed-settings, error-handling, enterprise]
---

## 原文（日本語に翻訳）

無効な管理設定（managed settings）のエラーがユーザーに表示されるようになりました。

## 原文（英語）

Errors from invalid managed settings are now surfaced to users

## 概要

企業の管理者が設定する管理設定（managed settings）に問題がある場合、そのエラーがユーザーに明示的に表示されるようになりました。以前はエラーが隠れていたため、設定の問題を特定するのが困難でしたが、この改善により問題の早期発見と解決が可能になります。

## 基本的な使い方

管理設定に問題がある場合、起動時やコマンド実行時にエラーが表示されます。

```bash
claude

# 管理設定にエラーがある場合
# エラーメッセージが表示される
```

## 実践例

### 企業環境での起動

管理設定が適用される企業環境での使用。

```bash
# Windows環境（管理設定の場所）
# C:\Program Files\ClaudeCode\managed-settings.json

# macOS/Linux環境
# /etc/claude-code/managed-settings.json

claude

# 設定にエラーがある場合の表示例：
# "管理設定にエラーがあります:"
# "無効なJSON形式です（行5）"
# "管理者に連絡してください"
```

### 設定の検証

`/doctor` コマンドで管理設定の状態を確認。

```bash
claude

/doctor

# 管理設定の検証結果が表示される
# - 設定ファイルの場所
# - 設定の妥当性
# - エラーの詳細
```

### 設定のトラブルシューティング

管理設定のエラーをデバッグする場合。

```bash
# 詳細なエラー情報を取得
claude --debug

# エラーログに管理設定の詳細が記録される
# 管理者に情報を提供して修正を依頼
```

## 注意点

- 管理設定はシステム管理者が設定するため、ユーザー自身では変更できません
- エラーが表示された場合は、システム管理者に連絡してください
- 管理設定の場所：
  - Windows: `C:\Program Files\ClaudeCode\managed-settings.json`（推奨）
  - Windows（非推奨）: `C:\ProgramData\ClaudeCode\managed-settings.json`
  - macOS/Linux: `/etc/claude-code/managed-settings.json`
- `/doctor` コマンドで設定の詳細を確認できます
- この改善により、設定の問題を早期に発見し、解決できるようになりました

## 関連情報

- [Enterprise Managed Settings](https://code.claude.com/docs/en/enterprise)
- [トラブルシューティングガイド](https://code.claude.com/docs/en/troubleshooting)
- [Doctor コマンド](https://code.claude.com/docs/en/commands)
