---
title: "VS Code プランプレビューの改善：自動更新とレビューワークフローの向上"
date: 2026-02-18
tags: [vscode, plan-mode, ux]
---

## 原文（日本語に翻訳）

VS Code のプランプレビューを改善：Claude が反復する際に自動更新され、プランがレビュー準備完了になったときのみコメントを有効化し、拒否時もプレビューを開いたままにすることで Claude が修正できるようにしました。

## 原文（英語）

Improved VS Code plan preview: auto-updates as Claude iterates, enables commenting only when the plan is ready for review, and keeps the preview open when rejecting so Claude can revise.

## 概要

Claude Code の VS Code 拡張機能において、プランモード（計画モード）のプレビュー体験が大きく改善されました。プランの作成中はリアルタイムで自動更新され、拒否時もプレビューパネルが維持されるため、Claude が即座にフィードバックを受け取って修正を行えます。コメント機能はプランがレビュー可能な状態になったときのみ有効化されるため、作業中の中間状態に誤ってコメントしてしまうミスも防げます。

## 基本的な使い方

VS Code でプランモードを使用するには、Claude Code 拡張機能が必要です。

1. VS Code で Claude Code パネルを開く
2. タスクを入力して Enter を押す
3. Claude がプランを立案中、プレビューパネルがリアルタイム更新される
4. プランが完成したらコメント機能が有効化され、フィードバックを記入できる
5. プランを拒否した場合もプレビューが維持され、Claude が修正を行う

## 実践例

### プランの自動更新を確認する

```
1. VS Code で Claude Code を開く
2. 複雑なタスク（例：「認証機能を実装して」）を入力する
3. Claude がプランを段階的に構築する様子がプレビューに反映される
4. 各ステップが追加されるたびにプレビューが自動更新される
```

### プランへのコメントとフィードバック

プランがレビュー可能な状態になると、VS Code のコメント機能（インラインコメント）が有効化されます。

```
1. プランが完成するとコメントアイコンが表示される
2. 特定の行にカーソルを合わせてコメントを追加
3. 「このステップでテストも追加してください」などフィードバックを記入
4. Claude がコメントを読んでプランを修正する
```

### プランを拒否して修正を依頼する

```
1. プランを確認し「拒否」ボタンをクリック
2. プレビューパネルが維持される（閉じない）
3. チャットで修正依頼を送信：「フロントエンド実装のステップを追加してください」
4. Claude が修正したプランをプレビューに反映する
```

## 注意点

- **コメント機能のタイミング**：コメントはプランが完成状態になるまで無効化されています。Claude が作業中にコメントしようとしても反応しません。
- **VS Code 拡張機能が必須**：この機能は VS Code 専用です。ターミナル版 Claude Code では利用できません。
- **拒否後の流れ**：プランを拒否しても会話はリセットされません。引き続きチャットで修正依頼を出せます。
- **プランモードの有効化**：`/plan` コマンドまたは設定からプランモードを有効化する必要があります。

## 関連情報

- [Claude Code VS Code 拡張機能 - 公式ドキュメント](https://code.claude.com/docs/en/vs-code)
- [Claude Code プランモードの使い方](https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously)
- [Claude Code リリースノート](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
