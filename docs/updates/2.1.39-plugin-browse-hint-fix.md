---
title: "プラグインブラウザの誤解を招くヒント表示を修正"
date: 2026-02-11
tags: [UI改善, プラグイン, UX]
---

## 原文（日本語訳）

プラグインブラウザで、既にインストール済みのプラグインに対して誤解を招く「Spaceキーで切り替え」ヒントが表示されていた問題を修正しました。

## 原文（英語）

Fixed plugin browse showing misleading "Space to Toggle" hint for already-installed plugins

## 概要

Claude Code 2.1.39では、プラグインブラウザ（`/plugin browse`）で既にインストール済みのプラグインに対して「Space to Toggle」というヒントが表示され、ユーザーを混乱させていた問題が修正されました。修正後は、インストール済みプラグインには適切な状態表示とアクションヒントが表示されるようになりました。

## 基本的な使い方

```bash
# プラグインブラウザを開く
claude
/plugin browse
```

## 修正内容

### 修正前の挙動

```
Available Plugins:
┌──────────────────────────────────────┐
│ ✓ prettier-formatter                 │
│   Code formatter                     │
│   [Space to Toggle]                  │ ← 誤解を招く表示
└──────────────────────────────────────┘
```

既にインストール済みのプラグインに「Space to Toggle」と表示されていたため、ユーザーは以下のような混乱を経験していました。

- Spaceキーを押すとアンインストールされるのか？
- 有効/無効を切り替えられるのか？
- 何が起こるのか不明確

### 修正後の挙動

```
Available Plugins:
┌──────────────────────────────────────┐
│ ✓ prettier-formatter                 │
│   Code formatter                     │
│   [Installed]                        │ ← 明確な状態表示
│   [Enter: Configure | D: Uninstall] │
└──────────────────────────────────────────┘
```

## 実践例

### プラグインの参照と管理

```bash
# Claude Codeを起動
claude

# プラグインブラウザを開く
/plugin browse

# 表示される情報（修正後）:
#
# Available Plugins:
#
# ✓ eslint-linter          [Installed]
#   JavaScript linter      [Enter: Configure | D: Uninstall]
#
# ○ rust-analyzer          [Not Installed]
#   Rust language server   [Space: Install]
#
# ✓ github-copilot         [Installed]
#   AI code completion     [Enter: Configure | D: Uninstall]
```

### インストール済みプラグインの設定変更

```bash
/plugin browse

# インストール済みのプラグインにカーソルを合わせる
# → Enterキーを押すと設定画面が開く

# 例: ESLintの設定
{
  "rules": {
    "semi": ["error", "always"],
    "quotes": ["error", "double"]
  }
}
```

### 新しいプラグインのインストール

```bash
/plugin browse

# 未インストールのプラグインにカーソルを合わせる
# → Spaceキーでインストール

# インストール後は自動的に [Installed] 表示に変わる
```

### プラグインのアンインストール

```bash
/plugin browse

# インストール済みプラグインでDキーを押す
# → 確認ダイアログが表示される

# Confirm uninstall 'prettier-formatter'?
# [Y] Yes  [N] No
```

## ユーザー体験の改善点

### 直感的な操作ガイド

各プラグインの状態に応じて、適切なアクションが明示されます。

| 状態 | 表示 | 可能なアクション |
|------|------|-----------------|
| 未インストール | `[Not Installed]` | Space: インストール |
| インストール済み | `[Installed]` | Enter: 設定、D: アンインストール |
| 更新可能 | `[Update Available]` | U: アップデート |
| 無効化中 | `[Disabled]` | E: 有効化 |

### キーボードショートカットの統一

```
共通操作:
  ↑/↓     : プラグイン選択
  Enter   : 詳細表示/設定
  /       : 検索
  Q       : 閉じる

プラグイン固有:
  Space   : インストール（未インストールの場合）
  D       : アンインストール（インストール済みの場合）
  E       : 有効化/無効化
  U       : アップデート（更新可能な場合）
```

### 検索機能との組み合わせ

```bash
/plugin browse

# /キーを押して検索モードに入る
# 検索: prettier

# 絞り込まれた結果でも適切な状態表示
# ✓ prettier-formatter     [Installed]
# ○ prettier-plugin-java  [Not Installed]
```

## 注意点

- **プラグインの依存関係**: プラグインによっては他のプラグインに依存している場合があります。アンインストール時に警告が表示されます
- **設定の保持**: プラグインをアンインストールしても、設定ファイルは保持されます。再インストール時に以前の設定が復元されます
- **自動更新**: 一部のプラグインは自動更新が有効になっている場合があります
- **互換性**: Claude Codeのバージョンとプラグインの互換性を確認してください

## プラグイン管理のベストプラクティス

### 定期的な更新確認

```bash
# プラグインの更新確認
/plugin update-check

# すべて更新
/plugin update-all
```

### 使用していないプラグインの整理

```bash
# インストール済みプラグイン一覧
/plugin list

# 不要なプラグインをアンインストール
/plugin browse
# → Dキーでアンインストール
```

### プラグイン設定のバックアップ

```bash
# プラグイン設定のエクスポート
/plugin export-config > ~/claude-plugins-backup.json

# 復元
/plugin import-config ~/claude-plugins-backup.json
```

## 関連情報

- [Claude Code プラグインシステム](https://code.claude.com/docs/en/)
- [公式プラグインリポジトリ](https://github.com/anthropics/claude-code)
- [プラグイン開発ガイド](https://code.claude.com/docs/en/)
