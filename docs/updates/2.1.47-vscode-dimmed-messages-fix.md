---
title: "VSCode: AskUserQuestionダイアログ表示中に会話メッセージが暗く表示される問題を修正"
date: 2026-02-19
tags: [bug-fix, vscode, ui, dialog]
---

## 原文（日本語に翻訳）

VSCode: AskUserQuestionダイアログが開いている間、会話メッセージが暗く表示されていた問題を修正 (anthropics/claude-code#26078)

## 原文（英語）
VSCode: Fixed conversation messages appearing dimmed while the AskUserQuestion dialog is open (anthropics/claude-code#26078)

## 概要

VS Code拡張機能でClaude Codeを使用している際、`AskUserQuestion` ダイアログ（ユーザーに確認や質問を求めるダイアログ）が開いている間、背景の会話メッセージが暗く（dimmed）表示されていました。この修正により、ダイアログ表示中でも会話内容を正常な明るさで確認できるようになります。

## 基本的な使い方

```bash
# VSCode拡張機能でClaude Codeを使用
# Claudeがユーザーへの確認を必要とするアクションを実行する際に
# AskUserQuestionダイアログが表示される

# 修正後: ダイアログが表示されていても、背後の会話メッセージは通常の輝度で表示される
```

## 実践例

### ファイル削除確認ダイアログ

Claude Codeがファイルを削除しようとする際などに確認ダイアログが表示されますが、修正後は背後のチャット履歴が暗くならずに表示されます。

```
# Claude Codeのチャット画面での表示
User: src/old-feature/ ディレクトリを削除してください

Claude: src/old-feature/ ディレクトリを削除しようとしています。
        以下のファイルが削除されます：
        - src/old-feature/index.js
        - src/old-feature/utils.js

[AskUserQuestion ダイアログ]
「本当に削除してもよいですか？」
[はい] [いいえ]

# 修正後: ダイアログ背後の会話メッセージは通常の輝度で表示される
```

### 権限確認ダイアログ

```
# 危険なコマンドを実行する前の確認ダイアログ
Claude: npm install を実行します。

[確認ダイアログが表示]
「このコマンドを実行してよいですか？」

# 修正後: ダイアログが開いていても
# 過去のチャット履歴が暗くなることなく読める
```

### マルチステップタスクでの確認

```
# 複数ステップのタスク実行中に確認が必要になった場合
User: 依存関係を更新して、テストを実行してください

# ステップ1実行後...
Claude: package.jsonを更新しました。次にnpm installを実行しますか？

[確認ダイアログ]
# 修正後: これまでの会話履歴（ステップ1の結果など）が
# 暗くなることなく参照できる
```

## 注意点

- この修正はVSCode拡張機能（Claude Code for VS Code）特有の問題への対処です
- ターミナルでのClaude Code使用には影響しません
- `AskUserQuestion` はClaude Codeがユーザーの確認や入力を必要とする際に使用するダイアログです
- この変更はUIの改善のみで、機能的な変更はありません
- VS Code拡張機能を最新版に更新することで修正が適用されます

## 関連情報

- [Claude Code VS Code拡張機能](https://marketplace.visualstudio.com/items?itemName=anthropic.claude-code)
- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [Issue #26078](https://github.com/anthropics/claude-code/issues/26078)
