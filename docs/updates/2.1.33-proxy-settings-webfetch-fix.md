---
title: "WebFetchツールへのプロキシ設定適用を修正"
date: 2026-02-06
tags: [proxy, webfetch, bugfix]
---

## 原文（日本語に翻訳）

WebFetchツールにプロキシ設定が適用されない問題を修正しました。

## 原文（英語）

Fixed proxy settings not applied to WebFetch

## 概要

WebFetchツールがプロキシ設定を正しく使用していなかった問題が修正されました。これにより、プロキシ環境でもWebFetchツールを使用してWebページを取得できるようになります。

## 基本的な使い方

プロキシ設定を行うと、WebFetchツールも自動的にその設定を使用します。

```bash
# プロキシ設定
export HTTP_PROXY=http://proxy.example.com:8080
export HTTPS_PROXY=http://proxy.example.com:8080

claude

# Claudeに依頼
"このURLの内容を確認してください: https://example.com"
```

## 実践例

### 企業プロキシ経由でのWeb情報取得

企業のプロキシサーバー経由でWeb情報を取得する場合。

```bash
# プロキシ設定
export HTTP_PROXY=http://corporate-proxy.company.com:3128
export HTTPS_PROXY=http://corporate-proxy.company.com:3128

claude

# URLの内容を取得
"https://docs.python.org/3/library/asyncio.html の内容を要約してください"

# 修正前：プロキシを経由せずエラー
# 修正後：プロキシ経由で正常に取得
```

### 認証付きプロキシでの使用

プロキシ認証が必要な環境での使用。

```bash
# 認証情報を含むプロキシ設定
export HTTP_PROXY=http://user:pass@proxy.company.com:8080
export HTTPS_PROXY=http://user:pass@proxy.company.com:8080

claude

# GitHub APIドキュメントを確認
"https://docs.github.com/en/rest の内容を確認してください"
```

### 複数のURLを同時に取得

複数のWebページを並行して取得する場合。

```bash
export HTTP_PROXY=http://proxy.example.com:8080

claude

"以下のURLの内容を比較してください:
- https://react.dev/
- https://vuejs.org/
- https://angular.io/"

# すべてのリクエストがプロキシ経由で実行される
```

## 注意点

- WebFetchツールはHTTP/HTTPSプロキシ設定を自動的に使用します
- 認証が必要なプロキシでは、URL形式で認証情報を含めます
- `NO_PROXY` 環境変数で特定のホストを除外できます
- プロキシ経由でのアクセスは、直接アクセスよりも遅くなる場合があります
- この修正により、プロキシ環境でもWebFetchツールが正常に動作するようになりました

## 関連情報

- [WebFetchツールドキュメント](https://code.claude.com/docs/en/tools)
- [プロキシ設定ガイド](https://code.claude.com/docs/en/troubleshooting)
- [企業環境での使用](https://code.claude.com/docs/en/enterprise)
