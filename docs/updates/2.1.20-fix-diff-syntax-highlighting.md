---
title: "Python docstring内のdiffシンタックスハイライト修正"
date: 2026-01-27
tags: [bugfix, syntax-highlighting, python]
---

## 原文（日本語訳）
Python docstring のような複数行構造内で発生する diff のシンタックスハイライトを修正しました

## 原文（英語）
Fixed syntax highlighting for diffs occurring within multiline constructs like Python docstrings

## 概要
Python の docstring など、複数行にわたるコード構造内で差分を表示する際に、シンタックスハイライトが正しく適用されない問題を修正しました。これにより、コードレビューがより読みやすくなります。

## 実践例

### Python docstring の変更を確認

```bash
claude
> この関数のdocstringを更新してください
```

修正前は docstring 内の差分が正しくハイライトされませんでしたが、修正後は以下のように見やすく表示されます：

```python
def calculate_total(items):
    """
-   Calculate total price
+   Calculate total price with tax included

-   Args: items (list): List of items
+   Args:
+       items (list): List of items with prices
    """
```

## 注意点

- **視認性の向上**: 複数行文字列内の変更がより明確になります
- **対象構造**: Python の docstring、ヒアドキュメント、その他の複数行構造に適用されます
- **差分レビュー**: コード変更の承認時により正確な判断ができます

## 関連情報

- [Claude Code シンタックスハイライト改善](https://www.threads.com/@claudeai/post/DSVhg6-kqPZ/weve-added-syntax-highlighting-to-diffs-in-claude-code-making-it-easier-to-scan)
- [Claude Code Changelog](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
