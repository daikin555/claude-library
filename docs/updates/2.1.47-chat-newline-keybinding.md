---
title: "chat:newline キーバインドアクション：複数行入力の設定が可能に"
date: 2026-02-18
tags: [keybinding, ux, input]
---

## 原文（日本語に翻訳）

設定可能な複数行入力のための `chat:newline` キーバインドアクションを追加しました。

## 原文（英語）

Added `chat:newline` keybinding action for configurable multi-line input.

## 概要

Claude Code v2.1.47 で `chat:newline` という新しいキーバインドアクションが追加されました。このアクションをキーバインド設定に割り当てることで、任意のキー操作でチャット入力に改行を挿入できます。これまでは Shift+Enter などの固定操作でしか改行できませんでしたが、ユーザーが好みのキーに自由に設定できるようになりました。

## 基本的な使い方

キーバインド設定ファイル（`~/.claude/keybindings.json`）に `chat:newline` アクションを追加します：

```json
[
  {
    "key": "ctrl+j",
    "action": "chat:newline"
  }
]
```

これで `ctrl+j` を押すと、送信せずに改行が挿入されます。

## 実践例

### Vim スタイルの改行設定

Vim ユーザーに親しみやすい `ctrl+j` を改行に割り当てる：

```json
[
  {
    "key": "ctrl+j",
    "action": "chat:newline"
  }
]
```

### Enter を送信、Shift+Enter を改行にする（デフォルト確認）

デフォルト設定を明示的に定義する例：

```json
[
  {
    "key": "shift+enter",
    "action": "chat:newline"
  }
]
```

### 複数のキーに改行を割り当てる

複数のキーに同じアクションを割り当てることも可能：

```json
[
  {
    "key": "ctrl+j",
    "action": "chat:newline"
  },
  {
    "key": "alt+enter",
    "action": "chat:newline"
  }
]
```

### 設定ファイルの場所と適用方法

```bash
# キーバインド設定ファイルの場所
~/.claude/keybindings.json

# ファイルが存在しない場合は新規作成
mkdir -p ~/.claude
cat > ~/.claude/keybindings.json << 'EOF'
[
  {
    "key": "ctrl+j",
    "action": "chat:newline"
  }
]
EOF

# 設定は Claude Code を再起動すると有効になります
```

## 注意点

- **既存のキーとの競合**：他のキーバインドアクションと同じキーを設定すると競合が発生します。設定前に既存のバインドを確認してください。
- **ターミナル環境による制限**：一部のターミナルでは特定のキーコンビネーションをターミナル側でキャプチャするため、Claude Code に届かないことがあります。
- **Enter キーの動作**：`chat:newline` を Enter に割り当てると送信できなくなるため、Enter に割り当てることは推奨されません。
- **再起動が必要**：キーバインド設定の変更は Claude Code を再起動してから有効になります。

## 関連情報

- [Claude Code キーバインドのカスタマイズ](https://code.claude.com/docs/en/cli-reference)
- [Claude Code 設定ガイド](https://code.claude.com/docs/en/settings)
- [Claude Code リリースノート](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
