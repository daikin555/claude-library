---
title: "Markdownリンクの表示テキストが削除されてURLのみ表示される問題の修正"
date: 2026-02-13
tags: [bugfix, markdown, links, display]
---

## 原文（日本語）
Markdownリンクの表示テキストが削除され、生のURLのみが表示される問題を修正しました。

## 原文（英語）
Fixed markdown link display text being dropped for raw URL

## 概要
Claude Code v2.1.41では、Markdown形式のリンク`[表示テキスト](URL)`を出力する際に、表示テキスト部分が削除され、URLのみが表示されてしまう問題が修正されました。これにより、Markdownリンクが適切にレンダリングされ、読みやすい形式で表示されるようになりました。

## 問題の詳細

### 修正前の動作
Markdownリンクの表示テキストが削除され、URLのみが表示されていました。

```markdown
# Claude Codeの出力（修正前）
公式ドキュメントは https://code.claude.com/docs をご覧ください。
GitHubリポジトリは https://github.com/anthropics/claude-code です。

# 期待される出力
公式ドキュメントは [Claude Code Docs](https://code.claude.com/docs) をご覧ください。
GitHubリポジトリは [anthropics/claude-code](https://github.com/anthropics/claude-code) です。
```

### 修正後の動作
Markdownリンクの表示テキストが保持され、適切に表示されます。

```markdown
# Claude Codeの出力（修正後）
公式ドキュメントは [Claude Code Docs](https://code.claude.com/docs) をご覧ください。
GitHubリポジトリは [anthropics/claude-code](https://github.com/anthropics/claude-code) です。
```

## 基本的な使い方

### ドキュメント生成時の改善
Claude Codeがドキュメントを生成する際、リンクが読みやすく表示されます。

```bash
> "このプロジェクトのREADMEを作成してください"

# 生成されるREADME.md（修正後）
## 関連リンク
- [公式ドキュメント](https://docs.example.com)
- [APIリファレンス](https://api.example.com/docs)
- [サンプルコード](https://github.com/example/samples)
```

## 実践例

### プロジェクトドキュメントの生成
プロジェクトのドキュメント生成時、リンクが適切に表示されます。

```bash
> "このライブラリの使い方ドキュメントを作成してください"

# 生成されるドキュメント（修正後）
## インストール

npmを使用してインストールできます。詳細は[npm公式ドキュメント](https://docs.npmjs.com)を参照してください。

## 使い方

基本的な使い方は[クイックスタートガイド](https://example.com/quickstart)をご覧ください。

## API リファレンス

完全なAPIドキュメントは[こちら](https://api.example.com)で確認できます。
```

### コード内コメントの生成
コード内のコメントやドキュメンテーションコメントにリンクを含める場合です。

```typescript
// 修正後は適切なMarkdownリンクが生成される
/**
 * ユーザー認証を処理します
 *
 * @see [認証ガイド](https://docs.example.com/auth)
 * @see [セキュリティベストプラクティス](https://security.example.com)
 */
function authenticate(credentials: Credentials): Promise<User> {
  // ...
}
```

### Issue・PRテンプレートの生成
GitHubのIssueやPRテンプレート生成時にリンクが適切に表示されます。

```bash
> "Pull Requestテンプレートを作成してください"

# 生成される.github/pull_request_template.md（修正後）
## チェックリスト
- [ ] コーディング規約に従っている（[スタイルガイド](https://github.com/company/style-guide)）
- [ ] テストを追加している（[テストガイド](https://github.com/company/test-guide)）
- [ ] ドキュメントを更新している（[ドキュメント規約](https://github.com/company/doc-guide)）

## 関連Issue
Closes [#123](https://github.com/company/repo/issues/123)

## 参考資料
- [設計ドキュメント](https://docs.company.com/design/feature-x)
- [API仕様](https://api.company.com/spec)
```

### 技術ドキュメントのリンク整理
既存のドキュメント内のリンクを整理・更新する場合です。

```bash
> "このドキュメント内のすべてのURLを適切なMarkdownリンクに変換してください"

# 修正前
React公式サイト: https://react.dev
Next.js公式サイト: https://nextjs.org

# 修正後（適切な表示テキストが追加される）
[React公式ドキュメント](https://react.dev)
[Next.js公式ドキュメント](https://nextjs.org)
```

### コントリビューションガイドの作成
オープンソースプロジェクトのCONTRIBUTING.mdを生成する場合です。

```bash
> "コントリビューションガイドを作成してください"

# 生成されるCONTRIBUTING.md（修正後）
## コントリビューション方法

1. [Issue](https://github.com/user/repo/issues)を確認してください
2. フォークして新しいブランチを作成してください
3. [コーディング規約](https://github.com/user/repo/blob/main/STYLE_GUIDE.md)に従ってください
4. [プルリクエスト](https://github.com/user/repo/pulls)を作成してください

## リソース
- [開発環境セットアップ](https://github.com/user/repo/wiki/Setup)
- [アーキテクチャ概要](https://github.com/user/repo/wiki/Architecture)
- [FAQ](https://github.com/user/repo/wiki/FAQ)
```

### 技術スタックドキュメントの生成
プロジェクトで使用している技術スタックのドキュメントを作成する場合です。

```bash
> "このプロジェクトの技術スタックドキュメントを作成してください"

# 生成されるTECH_STACK.md（修正後）
## フロントエンド
- [React](https://react.dev) - UIライブラリ
- [TypeScript](https://www.typescriptlang.org) - 型安全な開発
- [Tailwind CSS](https://tailwindcss.com) - ユーティリティファーストCSS

## バックエンド
- [Node.js](https://nodejs.org) - JavaScriptランタイム
- [Express](https://expressjs.com) - Webフレームワーク
- [PostgreSQL](https://www.postgresql.org) - リレーショナルデータベース

## 開発ツール
- [ESLint](https://eslint.org) - Linter
- [Prettier](https://prettier.io) - コードフォーマッター
- [Jest](https://jestjs.io) - テストフレームワーク
```

## この修正の利点

### 可読性の向上
- リンクの目的が明確になる
- URLが長い場合でも読みやすい
- 文章の流れを妨げない

### ユーザー体験の改善
- クリックしやすい表示テキスト
- URLの内容が理解しやすい
- ドキュメントの品質向上

### ドキュメント品質の向上
- プロフェッショナルな見た目
- 標準的なMarkdown形式に準拠
- 自動生成ドキュメントの品質向上

## Markdownリンクの形式

### 基本形式
```markdown
[表示テキスト](URL)
```

### 使用例
```markdown
# 修正後は以下のように表示される
[Claude Code公式サイト](https://claude.com/claude-code)
[GitHub](https://github.com/anthropics/claude-code)
[ドキュメント](https://code.claude.com/docs)
```

## 注意点
- この修正は自動的に適用されます
- 既存のMarkdownファイルには影響しません（新規生成・更新時のみ）
- リンクの表示テキストは文脈に応じて適切に生成されます
- 生のURLのみを表示したい場合は、バッククォートで囲んでください: `` `https://example.com` ``

## 関連情報
- [Claude Code - How it works](https://code.claude.com/docs/en/how-claude-code-works)
- [Markdown Guide](https://www.markdownguide.org/)
