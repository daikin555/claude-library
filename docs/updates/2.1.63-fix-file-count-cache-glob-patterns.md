---
title: "ファイル数キャッシュがglobの除外パターンを無視していた問題を修正"
date: 2026-02-28
tags: [bug-fix, glob, cache, file-management]
---

# ファイル数キャッシュがglobの除外パターンを無視していた問題を修正

## 原文（日本語に翻訳）

ファイル数キャッシュがglobの除外パターンを無視していた問題を修正しました。

## 原文（英語）

Fixed file count cache ignoring glob ignore patterns

## 概要

Claude Code v2.1.63で、ファイル数のキャッシュがglobの除外パターン（ignore patterns）を正しく考慮していない問題が修正されました。この問題により、`.claudeignore` や `.gitignore` などで除外指定されたファイルが、ファイル数カウントに含まれてしまうことがありました。修正後は除外パターンが正しく適用され、正確なファイル数が表示されます。

## 基本的な使い方

この修正はバックグラウンドで自動的に適用されます。ユーザー側での操作は不要です。

## 実践例

### 影響を受けるシナリオ

```
# .claudeignore で除外設定している場合
node_modules/
dist/
*.log

# 修正前：これらのファイルがファイル数カウントに含まれることがあった
# 修正後：正しく除外される
```

### 除外パターンの設定例

```bash
# .claudeignore ファイルの例
node_modules/
dist/
build/
.env
*.log
coverage/
```

## 注意点

- v2.1.63にアップデートすることで自動的に修正が適用されます
- `node_modules` などの大きなディレクトリを除外設定しているプロジェクトで特に効果があります
- ファイル数の表示が修正前後で変わる場合がありますが、これは正しい動作です

## 関連情報

- [Claude Code 設定ガイド](https://docs.anthropic.com/ja/docs/claude-code/settings)
