---
title: "コンテキスト圧縮後にセッション名が失われる問題の修正"
date: 2026-02-19
tags: [bug-fix, session, context-compaction, ux]
---

## 原文（日本語に翻訳）

コンテキスト圧縮後にセッション名が失われていた問題を修正しました — リネームされたセッションは圧縮後もカスタムタイトルが保持されるようになりました（anthropics/claude-code#26121）

## 原文（英語）
Fixed session name being lost after context compaction — renamed sessions now preserve their custom title through compaction (anthropics/claude-code#26121)

## 概要

Claude Codeではセッションにカスタム名（タイトル）を付けることができますが、長いセッションでコンテキスト圧縮が発生すると、設定したカスタム名が失われてしまう問題がありました。この修正により、コンテキスト圧縮が発生してもカスタムセッション名が正しく保持されるようになります。長期間にわたる作業セッションでも、わかりやすい名前でセッションを管理できます。

## 基本的な使い方

セッション名はClaude Codeの `/rename` コマンドや設定から変更できます。

```bash
# Claude Codeでセッションを開始
claude

# セッションに名前を付ける
> /rename "プロジェクトXリファクタリング作業"

# 長いセッションでコンテキスト圧縮が発生しても...
# 修正後: "プロジェクトXリファクタリング作業" という名前が保持される
# 修正前: 圧縮後にセッション名がデフォルトに戻っていた
```

## 実践例

### ユースケース1: 長期プロジェクトのセッション管理

複数日にわたる開発作業を識別しやすいセッション名で管理する場合。

```bash
# セッションを開始して名前を付ける
claude
> /rename "認証システム実装 - 2026-02"

# 数時間の作業でコンテキスト圧縮が発生
# （Claude Codeが自動的にコンテキストを圧縮）

# 翌日にセッションを再開
claude --resume
# セッション一覧に "認証システム実装 - 2026-02" が表示される（修正後）
# 修正前は名前が消えてハッシュIDのみになっていた
```

### ユースケース2: チーム作業でのセッション識別

複数のセッションを持つ場合に、意味のある名前で識別する。

```bash
# 複数のセッションに名前を付ける
# セッション1
claude
> /rename "フロントエンド改修"

# セッション2 (別ターミナル)
claude
> /rename "バックエンドAPI開発"

# セッション3 (別ターミナル)
claude
> /rename "インフラ設定"

# 各セッションで長時間作業してコンテキスト圧縮が発生しても
# すべてのセッション名が保持される（修正後）

# セッション一覧で確認
claude --resume
# 表示される:
# 1. フロントエンド改修        (2時間前)
# 2. バックエンドAPI開発       (3時間前)
# 3. インフラ設定              (1時間前)
```

### ユースケース3: セッション再開後の継続作業

名前付きセッションを再開して作業を継続する場合。

```bash
# 特定のセッションを名前で検索して再開
claude --resume

# インタラクティブなピッカーで "データ移行スクリプト" を選択
# 圧縮されていても名前が保持されている（修正後）
# セッションの内容を要約して継続作業が可能

> 前回の作業内容を振り返って、残りのタスクを続けてください
```

## 注意点

- コンテキスト圧縮は会話が長くなりトークン数が上限に近づいた際に自動的に発生します。
- セッション名はローカルに保存されます。複数のマシン間で同期されるわけではありません。
- セッション名は `/rename` コマンドでいつでも変更できます。
- セッション名を設定していない場合（デフォルト名のまま）は、この修正による影響はありません。
- 古いセッション（修正前に作成されたもの）で名前が失われていた場合は、手動で名前を再設定する必要があります。

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [GitHub Issue #26121](https://github.com/anthropics/claude-code/issues/26121)
- [セッション管理について](https://docs.anthropic.com/ja/docs/claude-code/overview)
