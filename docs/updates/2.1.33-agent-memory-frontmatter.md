---
title: "エージェント用メモリfrontmatterフィールドの追加"
date: 2026-02-06
tags: [agents, memory, customization]
---

## 原文（日本語に翻訳）

エージェントがメモリ要件を宣言するためのmemory frontmatterフィールドを追加しました。

## 原文（英語）

Added memory frontmatter field for agents to declare memory requirements

## 概要

カスタムエージェントの定義ファイルに、メモリ要件を宣言するための `memory` frontmatterフィールドが追加されました。これにより、エージェントが必要とするメモリ情報を明示的に指定でき、エージェントの動作をより細かく制御できるようになります。

## 基本的な使い方

エージェント定義ファイルのfrontmatterにmemoryフィールドを追加します。

```markdown
---
name: my-custom-agent
description: カスタムエージェントの説明
memory:
  - project-context.md
  - api-guidelines.md
---

エージェントの指示内容...
```

## 実践例

### プロジェクト固有のメモリ

プロジェクトのコンテキストを常にロードするエージェント。

```markdown
---
name: project-expert
description: プロジェクト固有の知識を持つエージェント
memory:
  - ~/project/ARCHITECTURE.md
  - ~/project/CONVENTIONS.md
  - ~/project/FAQ.md
---

このエージェントはプロジェクトのアーキテクチャと規約を
理解しています。
```

```bash
# エージェントを使用
claude --agent project-expert
```

### APIドキュメントの参照

API仕様を常に参照するエージェント。

```markdown
---
name: api-developer
description: API開発専門エージェント
memory:
  - docs/api-spec.yaml
  - docs/authentication.md
  - docs/error-codes.md
model: sonnet
---

REST APIの開発とドキュメント作成を支援します。
```

### チーム固有のガイドライン

チームのコーディング規約を参照するエージェント。

```markdown
---
name: code-reviewer
description: コードレビュー担当エージェント
memory:
  - .claude/rules/style-guide.md
  - .claude/rules/security-checklist.md
  - .claude/rules/performance-tips.md
---

チームの規約に基づいてコードレビューを行います。
```

### 複数メモリファイルの組み合わせ

複数のメモリソースを組み合わせるエージェント。

```markdown
---
name: full-stack-expert
description: フルスタック開発エージェント
memory:
  - docs/frontend-guide.md
  - docs/backend-guide.md
  - docs/database-schema.md
  - docs/deployment-process.md
model: opus
---

フロントエンドからバックエンド、デプロイまで
全体を理解して開発を支援します。
```

## 注意点

- `memory` フィールドはファイルパスの配列を受け取ります
- 相対パスと絶対パス（`~` を含む）の両方がサポートされます
- メモリファイルはエージェント起動時にロードされます
- メモリファイルが存在しない場合、エラーが発生する可能性があります
- メモリファイルのサイズはコンテキストウィンドウに影響します
- 既存の `.claude/rules/` ディレクトリのファイルも使用できます

## 関連情報

- [カスタムエージェント](https://code.claude.com/docs/en/agents)
- [Memory機能](https://code.claude.com/docs/en/memory)
- [エージェントFrontmatter](https://code.claude.com/docs/en/agent-frontmatter)
