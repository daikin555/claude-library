---
title: "/clearコマンド後もステータスバーにセッション名が残る問題を修正"
date: 2026-02-19
tags: [bug-fix, session, ui, clear]
---

## 原文（日本語に翻訳）

`/clear` コマンド後にステータスバーにセッション名が残り続ける問題を修正しました（anthropics/claude-code#26082）。

## 原文（英語）
Fixed session name persisting in status bar after `/clear` command (anthropics/claude-code#26082)

## 概要

`/clear` コマンドを実行してセッションをクリアした後も、ステータスバーに以前のセッション名が表示され続けるUIバグが修正されました。セッションがクリアされると新しいセッションが開始されるため、ステータスバーのセッション名も対応して更新されるべきでした。修正後は `/clear` 実行後にステータスバーのセッション名が正しくリセットされます。

## 基本的な使い方

```bash
# セッションを開始して名前を設定
claude
> /rename "プロジェクトAの作業"
# ステータスバー: [プロジェクトAの作業]

# セッションをクリア
> /clear

# 修正前: ステータスバーに "プロジェクトAの作業" が残る
# 修正後: ステータスバーのセッション名がリセットされる
#          新しいセッション名（または空白）が表示される
```

## 実践例

### ユースケース1: 新しいタスクへの切り替え

作業が終わって新しいタスクを始める際にセッションをクリアする場合。

```bash
# 旧タスクのセッション
> /rename "バグ修正作業 #1234"
# ステータスバー: [バグ修正作業 #1234]

# 作業完了後、新しいタスクに切り替え
> /clear
# ステータスバー: [] (または新しいセッションIDで更新)

# 新しいセッションに名前を設定
> /rename "新機能実装 #5678"
# ステータスバー: [新機能実装 #5678]
# ← 旧セッション名が残らないので混乱しない
```

### ユースケース2: セキュアな作業後のクリーンアップ

機密情報を扱った後にセッションを確実にクリアする場合。

```bash
# 機密データを扱うセッション
> /rename "本番環境の設定確認"

# 作業完了後
> /clear

# 修正後: ステータスバーも確実にクリアされるため
# 「本番環境の設定確認」という名前が残らず
# 他の人が画面を見ても作業内容が分からない
```

### ユースケース3: ペアプログラミング中のセッション引き渡し

ペアプログラミングで別の開発者に作業を引き継ぐ場合。

```bash
# 開発者Aの作業セッション
> /rename "Aの担当: 認証モジュール"

# 開発者Bに引き継ぐ前にクリア
> /clear
# 修正後: ステータスバーがリセットされる

# 開発者Bが新しいセッションで作業開始
> /rename "Bの担当: テスト実装"
# 開発者Aの名前が残らないので混乱しない
```

## 注意点

- `/clear` コマンドは会話履歴をクリアして新しいセッションを開始します
- この修正はステータスバーの「表示」の問題であり、実際のセッションデータの扱いは正しく動作していました
- `/clear` 後は新しいセッションIDが割り当てられます
- セッション名をクリア後にも引き継ぎたい場合は、`/clear` ではなく `/compact` を使用することを検討してください

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [CHANGELOG.md](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [GitHub Issue #26082](https://github.com/anthropics/claude-code/issues/26082)
- [セッション管理ガイド](https://docs.anthropic.com/ja/docs/claude-code/memory)
