---
title: "折りたたまれたツール結果での検索パターンの引用符表示"
date: 2026-02-19
tags: [ux, search, display]
---

## 原文（日本語に翻訳）

折りたたまれたツール結果の検索パターンが、明確さのために引用符で表示されるようになりました。

## 原文（英語）
Search patterns in collapsed tool results are now displayed in quotes for clarity

## 概要

Claude Codeがファイル検索やコード検索を実行した際、結果が折りたたまれて表示される場合の検索パターン表示が改善されました。検索パターンが引用符で囲まれて表示されるようになり、どのパターンで検索が実行されたかが一目で分かるようになります。スペースを含むパターンや特殊文字を含むパターンの視認性が向上します。

## 基本的な使い方

```bash
# ファイル検索やコード検索を実行すると
# 折りたたまれた結果に引用符付きのパターンが表示される

claude
> "getUserById" という関数を検索してください

# 修正前の表示例:
# Search: getUserById → 3 results

# 修正後の表示例:
# Search: "getUserById" → 3 results
# ← 引用符で囲まれてパターンが明確
```

## 実践例

### ユースケース1: スペースを含む検索パターン

```bash
# スペースを含む検索パターンの識別が容易に

claude
> "async function" というパターンでコードを検索してください

# 修正前:
# Searched for: async function in src/
# ← スペースの前後がパターンの一部か不明確

# 修正後:
# Searched for: "async function" in src/
# ← 引用符でパターン範囲が明確
```

### ユースケース2: 正規表現パターンの表示

```bash
# 正規表現パターンを使った検索

claude
> ^\s*import\s+ パターンで始まるファイルを検索してください

# 修正後の表示:
# Searched for: "^\s*import\s+" in project/
# ← 正規表現パターンが引用符で明確に区別される
```

### ユースケース3: 複数回の検索ログ確認

```bash
# 長い会話での検索履歴確認
# 折りたたまれた結果をスクロールして確認する際に
# 各検索で何を検索したかが引用符で明確になる

# 修正後の会話ログ表示例:
# [Tool: Grep] Searched for "TODO:" → 15 results (collapsed)
# [Tool: Grep] Searched for "FIXME:" → 3 results (collapsed)
# [Tool: Glob] Searched for "**/*.test.ts" → 42 results (collapsed)
# ← 各検索パターンが引用符で明確に表示
```

## 注意点

- この変更はUIの表示のみに関するものです。検索機能自体は変わりません
- 引用符は表示上のものであり、実際の検索パターンには含まれません
- 折りたたまれていない（展開されている）結果の表示形式は変わりません
- 主にGrepツールやGlobツールの検索結果表示に影響します
- バージョン2.1.47以降で適用される改善です

## 関連情報

- [Claude Code 公式ドキュメント](https://docs.anthropic.com/ja/docs/claude-code/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [Claude Code の検索機能について](https://docs.anthropic.com/ja/docs/claude-code/overview)
