---
title: "外部エディタショートカット（Ctrl+G）のヘルプメニュー追加"
date: 2026-01-27
tags: [editor, shortcut, help, usability]
---

## 原文（日本語訳）
外部エディタショートカット（Ctrl+G）がヘルプメニューに追加され、発見しやすくなりました

## 原文（英語）
Added external editor shortcut (Ctrl+G) to the help menu for better discoverability

## 概要
Ctrl+G で外部エディタを起動してプロンプトを編集できる機能が、ヘルプメニューに追加されました。これにより、長く複雑なプロンプトを作成する際に、お気に入りのエディタの機能を活用できることをユーザーが発見しやすくなりました。

## 基本的な使い方

プロンプト入力中に Ctrl+G を押すと、システムのデフォルトエディタで現在のプロンプトが開きます。

```bash
claude
> 長いプロンプトを入力中...
# Ctrl+G を押す
# → システムエディタが開く
# エディタで編集して保存・終了
# → プロンプトが Claude Code に戻る
```

## ヘルプメニューでの確認

```bash
claude
> /help
# または ? を入力

# ヘルプメニューに以下が表示されます：
# Ctrl+G - Open external editor for prompt editing
```

## 実践例

### 長いプロンプトの作成

```bash
claude
> # Ctrl+G を押してエディタを開く

# エディタ内で以下のような複雑なプロンプトを作成：
"""
以下の要件を満たすReactコンポーネントを作成してください：

1. TypeScript を使用
2. フォームバリデーション機能
3. エラーハンドリング
4. レスポンシブデザイン
5. アクセシビリティ対応（ARIA属性含む）

詳細な仕様：
- フィールド: name, email, message
- バリデーション: 各フィールドが必須
- エラー表示: フィールドごとに表示
- 送信後: 成功メッセージを表示
"""

# 保存して終了すると Claude Code に戻る
```

### マルチカーソル編集の活用

```bash
# VS Code などのエディタで Ctrl+G を使用

# マルチカーソルで一括編集
"""
次のファイルを更新してください：
- src/components/Header.tsx
- src/components/Footer.tsx
- src/components/Sidebar.tsx
# マルチカーソルで .tsx を一括追加できる
"""
```

### テンプレートからのプロンプト作成

```bash
# エディタで事前に用意したテンプレートを開く

# Ctrl+G → エディタ起動
# スニペット機能でテンプレート挿入
"""
## タスク
[タスクの説明]

## 要件
- [ ] 要件1
- [ ] 要件2
- [ ] 要件3

## 制約
- 制約1
- 制約2
"""
```

### コードブロックを含むプロンプト

```bash
# Ctrl+G でエディタを開き、シンタックスハイライトを活用

"""
以下のコードをリファクタリングしてください：

```javascript
function processData(data) {
  // 複雑なロジック...
  if (data.length > 0) {
    for (let i = 0; i < data.length; i++) {
      // 処理
    }
  }
}
```

改善点：
1. モダンなJavaScriptを使用
2. エラーハンドリング追加
3. パフォーマンス最適化
"""
```

## エディタの設定

### デフォルトエディタの設定

```bash
# ~/.zshrc または ~/.bashrc に追加
export EDITOR='code --wait'  # VS Code
# または
export EDITOR='nvim'         # Neovim
# または
export EDITOR='vim'          # Vim
```

設定を反映：
```bash
source ~/.zshrc
```

### エディタ別の設定例

#### VS Code
```bash
export EDITOR='code --wait'
```

#### Neovim
```bash
export EDITOR='nvim'
```

#### Sublime Text
```bash
export EDITOR='subl --wait'
```

#### Emacs
```bash
export EDITOR='emacs'
```

## 従来のワークフローとの比較

### 従来の方法
```bash
# 1. テキストファイルでプロンプトを作成
vim prompt.txt

# 2. ファイルをコピー
cat prompt.txt

# 3. Claude Code に貼り付け
claude
> [貼り付け]
```

### 新しい方法（Ctrl+G）
```bash
claude
> [Ctrl+G を押すだけ]
# → エディタで編集
# → 保存して終了
# → 自動的に Claude Code に戻る
```

## 注意点

- **EDITOR 環境変数**: システムが正しく設定されている必要があります
- **--wait フラグ**: VS Code や Sublime Text などでは、Claude Code がエディタの終了を待つために --wait フラグが必要です
- **保存が必須**: エディタで保存せずに終了すると、変更が反映されない場合があります
- **既存のテキスト**: Ctrl+G を押したときに入力していたテキストがエディタに引き継がれます

## トラブルシューティング

### エディタが開かない場合

```bash
# EDITOR 環境変数を確認
echo $EDITOR

# 設定されていない場合は設定
export EDITOR='vim'
```

### エディタが終了してもプロンプトが戻らない

```bash
# --wait フラグを追加
export EDITOR='code --wait'
```

## 関連機能

### 複数行入力
```bash
# Shift+Enter で複数行入力も可能
> 複数行の
> プロンプトを
> 入力できます
```

### ペーストモード
```bash
# 大きなテキストをペーストする場合
# Ctrl+V（または Cmd+V）でペースト
```

## 関連情報

- [How to Edit Prompts in External Editor in Claude Code](https://claudelog.com/faqs/how-to-edit-prompt-in-editor-in-claude-code/)
- [Claude Code Customize Keyboard Shortcuts](https://code.claude.com/docs/en/keybindings)
- [Claude Code Commands Reference](https://www.gradually.ai/en/claude-code-commands/)
