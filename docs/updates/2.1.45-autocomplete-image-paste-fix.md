---
title: "画像ペースト時のオートコンプリート候補が Enter キーで確定できない問題の修正"
date: 2026-02-17
tags: [bugfix, autocomplete, image, paste, input, ui]
---

## 原文（日本語に翻訳）

入力フィールドに画像が貼り付けられている場合、Enter キーでオートコンプリートの候補が受け付けられない問題を修正

## 原文（英語）

Fixed autocomplete suggestions not being accepted on Enter when images are pasted in the input

## 概要

Claude Code の入力フィールドに画像を貼り付けた状態でオートコンプリートの候補が表示されている際に、Enter キーを押しても候補が確定されないバグが修正されました。画像とテキスト入力を組み合わせて使う場合（例：スクリーンショットについて質問する際にファイルパスをオートコンプリートで入力）に発生していた問題です。2.1.45 以降では画像がある場合でも Enter キーでオートコンプリートが正常に動作します。

## 基本的な使い方

この修正はバグフィックスです。特別な設定変更は不要です。修正により、画像を貼り付けた後もオートコンプリートが通常通り動作するようになります。

Claude Code でのオートコンプリートの基本的な使い方：
- ファイルパスを入力する際、途中まで入力すると候補が表示されます
- `Tab` キーで候補を選択、`Enter` キーで確定できます

## 実践例

### 画像とファイルパスを組み合わせる

スクリーンショットを貼り付けながら、関連するファイルを参照する場合のワークフロー：

1. スクリーンショットを `Ctrl+V`（または `Cmd+V`）で入力フィールドに貼り付ける
2. テキストを続けて入力する（例：「このエラーは `src/com`」）
3. オートコンプリートで `src/components/ErrorBoundary.tsx` などの候補が表示される
4. **修正前**: Enter キーを押しても候補が確定されなかった
5. **修正後**: Enter キーで正常に候補が確定される

```
# 入力例（画像貼り付け後）
[画像: screenshot.png] このエラーは src/components/[← オートコンプリート候補が表示]
```

### マルチモーダル入力のベストプラクティス

画像とテキストを組み合わせる場合の推奨ワークフロー：

```
# スクリーンショットでのバグ報告
1. ターミナルのエラー画面をスクリーンショット
2. Claude Code の入力フィールドにペースト
3. 関連ファイルのパスをオートコンプリートで入力
4. 質問を送信

# 例のプロンプト
[エラースクリーンショット] このエラーについて src/api/auth.ts を確認して修正してください
```

## 注意点

- このバグは「画像がある状態でオートコンプリート候補が表示されているとき」という特定の条件でのみ発生していました。
- 画像なし、またはオートコンプリートなしの場合は影響がありませんでした。
- `Tab` キーによる候補選択は影響を受けていませんでした（`Enter` キーのみの問題）。
- 2.1.45 へのアップデートで自動的に修正されます。

## 関連情報

- [Claude Code の使い方ガイド](https://docs.anthropic.com/ja/docs/claude-code)
- [Claude Code でのマルチモーダル入力](https://docs.anthropic.com/ja/docs/claude-code/multimodal)
