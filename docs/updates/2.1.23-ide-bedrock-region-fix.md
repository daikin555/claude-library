---
title: "IDE での Bedrock リージョン文字列表示の修正"
date: 2026-01-29
tags: [bug-fix, ide, bedrock, aws]
---

## 原文（日本語訳）
[IDE] ヘッドレスモードで Bedrock ユーザーに対してモデルオプションが誤ったリージョン文字列を表示していた問題を修正しました

## 原文（英語）
[IDE] Fixed model options displaying incorrect region strings for Bedrock users in headless mode

## 概要
VS Code 拡張機能などの IDE 環境で、AWS Bedrock を使用してヘッドレスモードで実行している際に、モデル選択画面で誤った AWS リージョン文字列が表示されていた問題が修正されました。

## 修正された問題

AWS Bedrock を使用している場合、モデルオプションで以下のような誤ったリージョン表示がされていました：

### 以前（誤り）

```
Claude Sonnet 4.5 (us-west-1)  # 実際は us-east-1 を使用
Claude Opus 4.5 (eu-central-2) # 実際は eu-central-1 を使用
```

### 現在（正しい）

```
Claude Sonnet 4.5 (us-east-1)
Claude Opus 4.5 (eu-central-1)
```

## 影響を受けていた環境

- VS Code 拡張機能
- JetBrains IDE プラグイン
- ヘッドレスモード（`-p` フラグ使用時）
- AWS Bedrock を API プロバイダーとして使用

## ヘッドレスモードとは

ヘッドレスモードは、UI なしで Claude Code を実行するモードです。

```bash
# ヘッドレスモードの基本的な使用
claude -p "Analyze this codebase" --output-format=json

# VS Code 拡張機能でのヘッドレスモード
# 拡張機能がバックグラウンドで自動的に使用
```

## 注意点

- **正確な表示**: リージョン文字列が実際の使用リージョンと一致するようになりました
- **IDE 環境**: VS Code や JetBrains IDE で特に重要な修正です
- **ヘッドレスモード**: 非対話モードでの動作が改善されました
- **設定確認**: リージョン設定は `~/.claude/settings.json` で確認できます
- **パフォーマンス**: 正しいリージョンが表示されることで、レイテンシの把握が容易になります
- **コスト管理**: リージョンごとの料金が異なる場合、正確な表示が重要です

## Bedrock の設定確認

現在の Bedrock 設定を確認：

```json
{
  "anthropic": {
    "bedrock": {
      "region": "us-east-1"
    }
  }
}
```

または環境変数で：

```bash
export AWS_REGION="us-east-1"
export ANTHROPIC_BEDROCK_REGION="us-east-1"
```

## 関連情報

- [Use Claude Code in VS Code](https://code.claude.com/docs/en/vs-code)
- [Claude Code on Amazon Bedrock: Quick Setup Guide](https://builder.aws.com/content/2tXkZKrZzlrlu0KfH8gST5Dkppq/claude-code-on-amazon-bedrock-quick-setup-guide)
- [Configuring Claude Code with AWS Bedrock](https://aws.plainenglish.io/configuring-claude-code-extension-with-aws-bedrock-and-how-you-can-avoid-my-mistakes-090dbed5215b)
- [A guide to Amazon Bedrock Claude Code](https://www.eesel.ai/blog/amazon-bedrock-claude-code)
