---
title: "Windows: .bashrc ファイルを持つユーザーの bash コマンド実行エラーを修正"
date: 2026-01-30
tags: [windows, bugfix, bash, bashrc]
---

## 原文（日本語訳）
Windows: `.bashrc` ファイルを持つユーザーの bash コマンド実行エラーを修正しました

## 原文（英語）
Windows: Fixed bash command execution failing for users with `.bashrc` files

## 概要
v2.1.27 で、Windows 環境において `.bashrc` ファイルが存在するユーザーが bash コマンドを実行できなかった問題が修正されました。これは v2.1.30 で発生したリグレッション（機能退行）の修正です。

## 注意点

- **対象バージョン**: この問題は v2.1.30 で発生し、v2.1.27 で修正されました
- **リグレッション**: この問題は v2.1.30 の変更により発生した退行バグでした
- **Windows 固有の問題**: この問題は Windows 環境特有の問題です（WSL および Windows ネイティブの両方で影響）
- **bash コマンド全般に影響**: この問題により、bash コマンドが一切実行できなくなる可能性がありました
- **カスタマイズされた環境**: `.bashrc` ファイルでシェル環境をカスタマイズしているユーザーが影響を受けました

## 実践例

### 修正前の問題

以前のバージョンでは、`.bashrc` ファイルがある場合に bash コマンドが失敗していました：

```bash
# Windows で .bashrc ファイルを持つユーザーの場合
# v2.1.30 以降、v2.1.27 以前では以下のようなコマンドが失敗していました
claude

> ディレクトリ内のファイル一覧を表示してください
# エラー: bash コマンドの実行に失敗
```

### 修正後（v2.1.27 以降）

v2.1.27 では、`.bashrc` ファイルが存在しても bash コマンドが正常に動作します：

```bash
claude

> ディレクトリ内のファイル一覧を表示してください
# 正常に実行される
```

### .bashrc ファイルの確認

自分の環境に `.bashrc` ファイルがあるか確認する方法：

```bash
# WSL または Git Bash 環境で
ls -la ~/ | grep bashrc

# または
cat ~/.bashrc
```

## 関連情報

- [Claude Code Troubleshooting](https://code.claude.com/docs/en/troubleshooting)
- [GitHub Issue: bash command execution issue](https://github.com/anthropics/claude-code/issues/17380)
- [Release v2.1.27](https://github.com/anthropics/claude-code/releases/tag/v2.1.27)
- [Windows: Hook commands cause brief console window flash · Issue #19012](https://github.com/anthropics/claude-code/issues/19012)

## 関連する修正

同じ v2.1.27 で修正された Windows 関連の問題：
- [Windows: コンソールウィンドウのフラッシュ修正](2.1.27-windows-console-flash-fix.md)
- [VSCode: OAuth トークン有効期限による 401 エラー修正](2.1.27-vscode-oauth-token-fix.md)
