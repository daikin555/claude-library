---
title: "プラグインマーケットプレイスのGitタイムアウト設定改善"
date: 2026-02-24
tags: [plugin, marketplace, git, timeout, configuration]
---

## 原文（日本語に翻訳）

プラグインマーケットプレイスのデフォルトGitタイムアウトを30秒から120秒に更新し、設定用に `CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS` を追加しました。

## 原文（英語）

Updated plugin marketplace default git timeout from 30s to 120s and added `CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS` to configure.

## 概要

プラグインマーケットプレイスからGitリポジトリを通じてプラグインをインストールする際のデフォルトタイムアウトが30秒から120秒に延長されました。大きなプラグインや低速なネットワーク環境でのインストール失敗を防ぐための改善です。さらに、`CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS` 環境変数を使ってタイムアウト値を自由にカスタマイズできるようになりました。

## 基本的な使い方

```bash
# デフォルト（120秒）でプラグインをインストール
claude plugin install <plugin-name>

# タイムアウトをカスタマイズ（ミリ秒単位）
CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS=300000 claude plugin install <plugin-name>
# 上記は300秒（5分）に設定
```

## 実践例

### 低速ネットワーク環境でのプラグインインストール

企業ネットワークやVPN経由で大きなプラグインをインストールする場合：

```bash
# 5分のタイムアウトでインストール
export CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS=300000
claude plugin install my-large-plugin

# または一時的に設定
CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS=300000 claude plugin install my-large-plugin
```

### 環境変数を永続的に設定

```bash
# ~/.bashrc または ~/.zshrc に追加
echo 'export CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS=180000' >> ~/.zshrc
source ~/.zshrc

# 確認
echo $CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS
# 出力: 180000 (3分)
```

### CI/CDパイプラインでのタイムアウト設定

GitHub Actionsの例：

```yaml
- name: Claude Codeプラグインをインストール
  env:
    CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS: 180000
  run: |
    claude plugin install my-team-plugin
```

### タイムアウト値の目安

| 環境 | 推奨値 | ミリ秒 |
|------|--------|--------|
| 通常のネットワーク | 120秒（デフォルト） | 120000 |
| 低速ネットワーク | 3〜5分 | 180000〜300000 |
| 企業プロキシ環境 | 5〜10分 | 300000〜600000 |

## 注意点

- タイムアウト値はミリ秒単位で指定します（1秒 = 1000ミリ秒）。
- デフォルト値は120,000ms（120秒）に変更されました。以前は30,000ms（30秒）でした。
- タイムアウトが発生した場合、インストールは失敗しエラーメッセージが表示されます。その場合は `CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS` を大きな値に設定して再試行してください。
- 過度に大きなタイムアウト値を設定すると、実際にネットワーク問題がある場合の応答が遅くなる可能性があります。

## 関連情報

- [Claude Code公式ドキュメント](https://code.claude.com/docs/en/overview)
- [Claude Code CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)
- [Team Setup Guide: Standardizing Claude Code Plugin Usage](https://skywork.ai/blog/claude-code-plugin-standardization-team-guide/)
